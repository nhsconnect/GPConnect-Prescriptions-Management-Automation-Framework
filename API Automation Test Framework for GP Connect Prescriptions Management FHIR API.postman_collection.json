{
	"info": {
		"_postman_id": "77c11c41-a294-4899-9d63-42c9f72504f5",
		"name": "API Automation Test Framework for GP Connect Prescriptions Management FHIR API",
		"description": "## End-to-end Overview\n\n<img src=\"https://raw.githubusercontent.com/NHSDigital/gp-connect-prescriptions-management-fhir/master/specification/images/overview-diagram.svg\">\n\nUse this API to manage a patient's prescriptions as held by their GP practice.\n\nYou can:\n\n- request a new instance of a repeat prescription\n- view all of a patients medications, whether acute or repeat, past or present\n- cancel a repeat prescription request\n- check the status of a current prescription request\n- request a new instance of a repeat prescription to a one off nomination pharmacy\n    \n\nThe end user must be a patient who is:\n\n- registered with the GP practice\n- registered with NHS login to P9 identity verification level\n    \n\nFor example:\n\n- a patient can view their own medication, request a new instance of a repeat prescription and cancel that request\n    \n\n## Overview of the API automation framework\n\nThe purpose of this automation suite is to check that the data returned from the Prescriptions Management FHIR API conforms to the specifications outlined in the documentation. The documentation can be found here:\n\n1. General overview as well details of each request: [https://digital.nhs.uk/developer/api-catalogue/gp-connect-patient-facing-prescriptions-fhir#overview--overview]()\n2. FHIR specifications for each endpoint: [https://simplifier.net/guide/GP-Connect-Patient-Facing-Prescription-Management/Home/FHIR-Assets/All-Assets?version=current]()\n    \n\nThe tests are primarily designed to test the shape of the returned data, rather than the exact values returned, except where those values should remain constant.\n\nExamples of the logic tested are that:\n\n- all required properties are returned\n- elements within an array do not exceed the number specified\n- conditionally required elements are only present where the stated conditions are met\n- fixed values are always returned\n    \n\nThe automation framework covers only one positive test for each endpoint (excluding the task endpoint which has 3 tests), but all scenarios for error tests (tests returning 4XX statuscodes). The remaining positive tests, using differing optional parameters in the request, are covered in manual tests.\n\n## Why Postman\n\nPostman was chosen as the API testing application in order to simplify running, maintaining and developing the framework for both technically and non-technically minded people as the user interface makes it more accessible.\n\n## Installation\n\n- Install Postman, go to: [https://www.postman.com/downloads/]()\n- Download this test collection to your local PC\n- Open the collection using postman\n    \n\n## Structure\n\nThe framework is split into folders and subfolders reflecting the endpoints of the API (ignoring the baseUrl). Let's take the following endpoint as an example:\n\n<img src=\"https://content.pstmn.io/a5aa9ed5-65e1-4f0e-97e5-b9e04abd13dc/aW1hZ2UucG5n\" width=\"472\" height=\"72\">\n\nYou would find the tests for this endpoint at: Patient > Id > MedicationStatement. The actual tests can be found by clicking on any test file and looking under the 'Tests' header:\n\n<img src=\"https://content.pstmn.io/0021f01c-5c30-4a93-82cf-b6be9be76a14/aW1hZ2UucG5n\" width=\"504\" height=\"261\">\n\nAll tests are written in javascript. Each test is titled using BDD syntax using the 'Given', 'When', 'Then' format, as well as a small description above the test.\n\nAll test files will contain mostly similar tests. They include checking the headers returned are correct, the status code returned is as expected, as well as the schema (the structure of the data) is correct. Towards then end, each file will contain some tests specific to that endpoint, relating to the logic encorporated within the specs.\n\n## User-flow\n\n<img src=\"https://content.pstmn.io/d5f03983-bd2c-474b-a0ee-81e69d270cf6/aW1hZ2UucG5n\" alt=\"\" height=\"193\" width=\"356\">\n\nThe requests in this folder are designed to run through requests as they might be by a user and MUST be run in sequence for them to work.\n\n## Setup\n\nBefore running any tests you must change the following:\n\n- Change the baseUrl variable. The baseUrl is currently pointing towards the NHS sandbox environment. To run this against your own testing environment, the base url will need to be changed. To do this:\n    - select the collection\n    - from the top panel, select the 'Variables' option\n    - change the 'baseUrl' 'current value' to the one for your environment\n- Change all existing variables that need changing to those present in your database. Do this by following the same steps as above and replacing the other current values with existing ones in your database. Those that need changing are marked as \"PleaseReplaceWith... etc\". These variables MUST be updated to match those existing in your database BEFORE the tests can be run. Do NOT update any variables that do not begin with \"PleaseReplaceWith\", they are set within the tests themselves.\n- Authorization token may need to be added to the header for the requests as well as a statement within the API framework to ignore authentication when receiving said token. This framework is not designed to test authentication, rather the shape of the returned data, and therefore does not implement authentication as it will be in production.\n    \n\n<img src=\"https://content.pstmn.io/c3918268-c73b-4171-b487-267ceeb49774/aW1hZ2UucG5n\" width=\"562\" height=\"281\">\n\n## Running one test\n\n- Select a test you'd like to run from the left hand pannel, eg: MedicationRequest > Id > Positive tests > Get a specific planned medication request\n- Press send\n- Results will be displayed below:\n    \n\n<img src=\"https://content.pstmn.io/803f532b-f0e6-437e-a1be-5ac3dd4b6345/aW1hZ2UucG5n\" width=\"506\" height=\"292\">\n\n## Running the collection\n\n- Right click the collection from the left hand panel\n- Select 'Run collection'\n- Either leave all tests selected or select specific ones you'd like to run\n- Select to run manually as a one off or schedule to run them frequently\n- Select the orange 'run' button:\n    \n\n<img src=\"https://content.pstmn.io/ee02ccd9-7489-4678-8a05-bbebeb1f3631/aW1hZ2UucG5n\" width=\"448\" height=\"422\">\n\n- The tests will now run. The passed tests, failed tests, skipped tests, time taken to run etc... will be displayed at the top:\n    \n\n<img src=\"https://content.pstmn.io/bcbc390f-3694-496e-b95d-7fe7f130fd32/aW1hZ2UucG5n\" width=\"564\" height=\"186\">\n\n## Adding tests\n\nTo add tests, simply use the three dots next to an existing folder and either select to add a new folder or add a new request. You can copy existing tests over or write your own, and make sure to keep the existing format and/or update this documentation to reflect your changes\n\n## Capturing evidence\n\nTo capture test evidence of the collection run, the following needs to be done:\n\n- Right click the collection from the left hand panel\n- Select 'Run collection'\n- **Check 'Persist responses for a session'**\n- Select the orange 'run' button:\n    \n\n<img src=\"https://content.pstmn.io/dd7a086d-a346-4349-853b-a596fe2e775b/aW1hZ2UucG5n\" width=\"394\" height=\"432\">\n\n- Once the run has finished you should see 'Export results' in top right:\n    \n\n<img src=\"https://content.pstmn.io/30f06127-a645-4ddf-9cc9-6a8ff6da2d73/aW1hZ2UucG5n\" width=\"514\" height=\"111\">\n\n- Select this to download the results\n- As well as this, you will need to capture the requests sent for each request\n- Select each request in turn. Eg click on this request:\n    \n\n<img src=\"https://content.pstmn.io/ea9e567f-37e5-4ea5-a661-ceb57b6d57c3/aW1hZ2UucG5n\" width=\"476\" height=\"186\">\n\n- The following will appear with a response and request header:\n    \n\n<img src=\"https://content.pstmn.io/483c360e-917b-458e-9d73-489194763122/aW1hZ2UucG5n\" width=\"408\" height=\"483\">\n\n- Copy the content of both the response AND request into a text document, clearly labelled with the name of the request\n- Do this for each request sent\n- You will now have a file with the request and response for each request in text format as well as the downloaded file in json format as evidence\n    \n\n## Further help\n\nIf you'd like further help on using postman, visit the Postman learning centre: [https://learning.postman.com/docs/introduction/overview/]()",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "10104196"
	},
	"item": [
		{
			"name": "MedicationRequest",
			"item": [
				{
					"name": "{id}",
					"item": [
						{
							"name": "Positive tests",
							"item": [
								{
									"name": "Get a specific planned medication request",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = pm.response.json();\r",
													"\r",
													"//Verify the response status code\r",
													"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"\r",
													"//Verify response header X-Correlation-ID\r",
													"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", () => {\r",
													"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
													"});\r",
													"\r",
													"//Verify response header X-Request-ID\r",
													"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", () => {\r",
													"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
													"});\r",
													"\r",
													"//Verify response header content-type\r",
													"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
													"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
													"});\r",
													"\r",
													"//Verify response schema\r",
													"pm.test(\"GIVEN I send a MedicationRequest request, WHEN the response is returned, THEN the json response corresponds to the required MedicationRequest schema\", () => {\r",
													"    var schema = {\r",
													"        \"type\": \"object\",\r",
													"        \"properties\": {\r",
													"            \"resourceType\": {\r",
													"                \"type\": \"string\",\r",
													"                \"const\": \"MedicationRequest\"\r",
													"            },\r",
													"            \"id\": {\r",
													"                \"type\": \"string\",\r",
													"                \"format\": \"uuid\"\r",
													"            },\r",
													"            \"meta\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"profile\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"minItems\": 1,\r",
													"                        \"maxItems\": 1,\r",
													"                        \"items\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-MedicationRequest\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"profile\"]\r",
													"            },\r",
													"            \"extension\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"url\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation\"\r",
													"                        },\r",
													"                        \"extension\": {\r",
													"                            \"type\": \"array\",\r",
													"                            \"items\": {\r",
													"                                \"properties\": {\r",
													"                                    \"url\": {\r",
													"                                        \"type\": \"string\",\r",
													"                                    },\r",
													"                                    \"valueUnsignedInt\": {\r",
													"                                        \"type\": \"number\"\r",
													"                                    },\r",
													"                                    \"valueDateTime\": {\r",
													"                                        \"type\": \"string\",\r",
													"                                        \"format\": \"date-time\"\r",
													"                                    }\r",
													"                                },\r",
													"                            }\r",
													"                        }\r",
													"                    }\r",
													"                }\r",
													"            },\r",
													"            \"identifier\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"system\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"value\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"format\": \"uuid\"\r",
													"                        }\r",
													"                    },\r",
													"                    \"required\": [\"system\", \"value\"]\r",
													"                }\r",
													"            },\r",
													"            \"status\": {\r",
													"                \"type\": \"string\",\r",
													"                \"enum\": [\"active\", \"cancelled\", \"stopped\", \"completed\"]\r",
													"            },\r",
													"            \"statusReason\": {\r",
													"                \"type\": \"object\"\r",
													"            },\r",
													"            \"intent\": {\r",
													"                \"type\": \"string\",\r",
													"                \"enum\": [\"plan\", \"order\"]\r",
													"            },\r",
													"            \"category\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"type\": \"object\",\r",
													"                    \"properties\": {\r",
													"                        \"coding\": {\r",
													"                            \"type\": \"array\",\r",
													"                            \"items\": {\r",
													"                                \"type\": \"object\",\r",
													"                                \"properties\": {\r",
													"                                    \"code\": {\r",
													"                                        \"type\": \"string\",\r",
													"                                        \"const\": \"community\"\r",
													"                                    }\r",
													"                                },\r",
													"                                \"required\": [\"code\"]\r",
													"                            }\r",
													"                        }\r",
													"                    },\r",
													"                    \"required\": [\"coding\"]\r",
													"                }\r",
													"            },\r",
													"            \"medicationCodeableConcept\": {\r",
													"                \"properties\": {\r",
													"                    \"coding\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"items\": {\r",
													"                            \"type\": \"object\",\r",
													"                            \"properties\": {\r",
													"                                \"system\": {\r",
													"                                    \"type\": \"string\",\r",
													"                                    \"const\": \"https://dmd.nhs.uk\"\r",
													"                                },\r",
													"                                \"code\": {\r",
													"                                    \"type\": \"string\"\r",
													"                                },\r",
													"                                \"display\": {\r",
													"                                    \"type\": \"string\"\r",
													"                                }\r",
													"                            },\r",
													"                            \"required\": [\"system\", \"code\", \"display\"]\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"coding\"]\r",
													"            },\r",
													"            \"subject\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"reference\": {\r",
													"                        \"type\": \"string\"\r",
													"                    },\r",
													"                    \"identifier\": {\r",
													"                        \"type\": \"object\",\r",
													"                        \"properties\": {\r",
													"                            \"system\": {\r",
													"                                \"type\": \"string\",\r",
													"                                \"const\": \"https://fhir.nhs.uk/Id/nhs-number\"\r",
													"                            },\r",
													"                            \"value\": {\r",
													"                                \"type\": \"string\"\r",
													"                            }\r",
													"                        },\r",
													"                        \"required\": [\"system\", \"value\"]\r",
													"                    },\r",
													"                    \"display\": {\r",
													"                        \"type\": \"string\"\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"reference\", \"identifier\", \"display\"]\r",
													"            },\r",
													"            \"authoredOn\": {\r",
													"                \"type\": \"string\"\r",
													"            },\r",
													"            \"requester\": {\r",
													"                \"type\": \"object\"\r",
													"            },\r",
													"            \"basedOn\": {\r",
													"                \"type\": \"array\",\r",
													"                \"maxItems\": 1,\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"reference\": {\r",
													"                            \"type\": \"string\",\r",
													"                        }\r",
													"                    },\r",
													"                    \"required\": [\"reference\"]\r",
													"                }\r",
													"            },\r",
													"            \"groupIdentifier\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"system\": {\r",
													"                        \"type\": \"string\",\r",
													"                        \"const\": \"https://fhir.nhs.uk/Id/prescription-order-number\"\r",
													"                    },\r",
													"                    \"value\": {\r",
													"                        \"type\": \"string\",\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"system\", \"value\"]\r",
													"            },\r",
													"            \"courseOfTherapyType\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"coding\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"items\": {\r",
													"                            \"type\": \"object\",\r",
													"                            \"properties\": {\r",
													"                                \"system\": {\r",
													"                                    \"type\": \"string\",\r",
													"                                    \"const\": \"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\"\r",
													"                                },\r",
													"                                \"code\": {\r",
													"                                    \"type\": \"string\",\r",
													"                                    \"enum\": [\"continuous\", \"acute\"]\r",
													"                                },\r",
													"                                \"display\": {\r",
													"                                    \"type\": \"string\"\r",
													"                                }\r",
													"                            },\r",
													"                            \"if\": {\r",
													"                                \"properties\": {\r",
													"                                    \"code\": {\r",
													"                                        \"const\": \"continuous\"\r",
													"                                    }\r",
													"                                }\r",
													"                            },\r",
													"                            \"then\": {\r",
													"                                \"properties\": {\r",
													"                                    \"display\": {\r",
													"                                        \"const\": \"Continuous long term therapy\"\r",
													"                                    }\r",
													"                                }\r",
													"                            },\r",
													"                            \"else\": {\r",
													"                                \"properties\": {\r",
													"                                    \"display\": {\r",
													"                                        \"const\": \"Short course (acute) therapy\"\r",
													"                                    }\r",
													"                                }\r",
													"\r",
													"                            },\r",
													"                            \"required\": [\"system\", \"code\", \"display\"]\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"coding\"]\r",
													"            },\r",
													"            \"dosageInstruction\": {\r",
													"                \"type\": \"array\",\r",
													"                \"minItems\": 1,\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"text\": {\r",
													"                            \"type\": \"string\"\r",
													"                        }\r",
													"                    },\r",
													"                    \"required\": [\"text\"]\r",
													"                }\r",
													"            },\r",
													"            \"substitution\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"allowedBoolean\": {\r",
													"                        \"type\": \"boolean\",\r",
													"                        \"const\": false\r",
													"                    }\r",
													"                },\r",
													"            },\r",
													"            \"dispenseRequest\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"numberOfRepeatsAllowed\": {\r",
													"                        \"type\": \"number\"\r",
													"                    },\r",
													"                    \"quantity\": {\r",
													"                        \"type\": \"object\",\r",
													"                        \"properties\": {\r",
													"                            \"value\": {\r",
													"                                \"type\": \"number\"\r",
													"                            },\r",
													"                            \"unit\": {\r",
													"                                \"type\": \"string\"\r",
													"                            },\r",
													"                            \"system\": {\r",
													"                                \"type\": \"string\",\r",
													"                                \"const\": \"http://snomed.info/sct\"\r",
													"                            },\r",
													"                            \"code\": {\r",
													"                                \"type\": \"string\"\r",
													"                            },\r",
													"                        },\r",
													"                        \"required\": [\r",
													"                            \"value\",\r",
													"                            \"unit\",\r",
													"                            \"system\",\r",
													"                            \"code\"\r",
													"                        ]\r",
													"                    },\r",
													"                    \"expectedSupplyDuration\": {\r",
													"                        \"type\": \"object\",\r",
													"                        \"properties\": {\r",
													"                            \"value\": {\r",
													"                                \"type\": \"number\"\r",
													"                            },\r",
													"                            \"unit\": {\r",
													"                                \"type\": \"string\"\r",
													"                            },\r",
													"                            \"system\": {\r",
													"                                \"type\": \"string\",\r",
													"                                \"const\": \"http://unitsofmeasure.org\"\r",
													"                            },\r",
													"                            \"code\": {\r",
													"                                \"type\": \"string\"\r",
													"                            },\r",
													"                        },\r",
													"                        \"required\": [\r",
													"                            \"value\",\r",
													"                            \"unit\",\r",
													"                            \"system\",\r",
													"                            \"code\"\r",
													"                        ]\r",
													"                    },\r",
													"                    \"performer\": {\r",
													"                        \"type\": \"object\",\r",
													"                        \"properties\": {\r",
													"                            \"identifier\": {\r",
													"                                \"type\": \"object\",\r",
													"                                \"properties\": {\r",
													"                                    \"system\": {\r",
													"                                        \"type\": \"string\",\r",
													"                                        \"const\": \"https://fhir.nhs.uk/Id/ods-organization-code\"\r",
													"                                    },\r",
													"                                    \"value\": {\r",
													"                                        \"type\": \"string\"\r",
													"                                    },\r",
													"                                },\r",
													"                                \"required\": [\r",
													"                                    \"system\",\r",
													"                                    \"value\"\r",
													"                                ]\r",
													"                            },\r",
													"                            \r",
													"                        },\r",
													"                        \"required\": [\r",
													"                            \"identifier\"\r",
													"                        ]\r",
													"                    },\r",
													"                },\r",
													"                \"required\": [\r",
													"                    \"numberOfRepeatsAllowed\",\r",
													"                    \"quantity\",\r",
													"                    \"expectedSupplyDuration\",\r",
													"                    \"performer\"\r",
													"                ]\r",
													"            }\r",
													"        },\r",
													"        \"required\": [\r",
													"            \"resourceType\",\r",
													"            \"id\",\r",
													"            \"meta\",\r",
													"            \"extension\",\r",
													"            \"identifier\",\r",
													"            \"status\",\r",
													"            \"intent\",\r",
													"            \"category\",\r",
													"            \"medicationCodeableConcept\",\r",
													"            \"subject\",\r",
													"            \"authoredOn\",\r",
													"            \"groupIdentifier\",\r",
													"            \"courseOfTherapyType\",\r",
													"            \"substitution\",\r",
													"            \"dispenseRequest\"\r",
													"        ]\r",
													"    }\r",
													"    pm.response.to.have.jsonSchema(schema);\r",
													"});\r",
													"\r",
													"//if intent = plan, identifier.system must be https://tools.ietf.org/html/rfc4122\r",
													"pm.test(\"GIVEN I send a request with an existing and valid medication request ID, WHEN the response is returned, THEN the medication request ID in the response matches the id in the request url\", () => {\r",
													"    if (jsonData.intent === \"plan\") {\r",
													"        pm.expect(jsonData.identifier[0].system).to.eql(\"https://tools.ietf.org/html/rfc4122\")\r",
													"    }\r",
													"});\r",
													"\r",
													"//if intent = order, identifier.system must be https://fhir.nhs.uk/Id/prescription-order-item-number\r",
													"pm.test(\"GIVEN I send a request with an existing and valid medication request ID, WHEN the response is returned, THEN the medication request ID in the response matches the id in the request url\", () => {\r",
													"    if (jsonData.intent === \"order\") {\r",
													"        pm.expect(jsonData.identifier[0].system).to.eql(\"https://fhir.nhs.uk/Id/prescription-order-item-number\")\r",
													"    }\r",
													"});\r",
													"\r",
													"//returned medication request id matches the one that was requested\r",
													"pm.test(\"GIVEN I send a request with an existing and valid medication request ID, WHEN the response is returned, THEN the medication request ID in the response matches the id in the request url\", () => {\r",
													"    var medicationRequestId = pm.variables.get(\"MedicationRequestId\");\r",
													"    pm.expect(jsonData.id).to.eql(medicationRequestId);\r",
													"});\r",
													"\r",
													"//if therapy type of medication request is continuous or continuous repeat then extension must be present\r",
													"pm.test(\"GIVEN I want to get an existing medication request AND therapy type is either continuous or continuous-repeat-dispensing, WHEN I send the request, THEN the response contains MedicationRequest.extension\", () => {\r",
													"    if (jsonData.courseOfTherapyType.coding[0].code === \"continuous\" || jsonData.courseOfTherapyType.coding[0].code === \"continuous-repeat-dispensing\") {\r",
													"        pm.expect(jsonData).to.have.property(\"extension\")\r",
													"    }\r",
													"});\r",
													"\r",
													"//if extension exists and intent = plan, authorisation expiry date should exist\r",
													"pm.test(\"GIVEN I want to get an existing medication request AND therapy type is either continuous or continuous-repeat-dispensing AND intent of the medication request = plan, WHEN I send the request, THEN the url value of one of the objects in the extension array is authorisationExpiryDate \", () => {\r",
													"    var checkExtension = \"extension\"\r",
													"    if (jsonData.hasOwnProperty(checkExtension)) {\r",
													"        if (jsonData.intent === \"plan\") {\r",
													"            var extension = jsonData.extension[0].extension\r",
													"            var authorisationExpiryDate = extension.some(extension => extension.url === \"authorisationExpiryDate\")\r",
													"            pm.expect(authorisationExpiryDate).to.eql(true)\r",
													"        }\r",
													"    }\r",
													"});\r",
													"\r",
													"//if extension exists and intent = order, authorisation expiry date should NOT exist\r",
													"pm.test(\"GIVEN I want to get an existing medication request AND therapy type is either continuous or continuous-repeat-dispensing AND intent of the medication request = order, WHEN I send the request, THEN no url value of one of the objects in the extension array is authorisationExpiryDate \", () => {\r",
													"    var checkExtension = \"extension\"\r",
													"    if (jsonData.hasOwnProperty(checkExtension)) {\r",
													"        if (jsonData.intent === \"order\") {\r",
													"            var extension = jsonData.extension[0].extension\r",
													"            var authorisationExpiryDate = extension.some(extension => extension.url === \"authorisationExpiryDate\")\r",
													"            pm.expect(authorisationExpiryDate).to.eql(false)\r",
													"        }\r",
													"    }\r",
													"});\r",
													"\r",
													"//if extension exists, number of repeat prescriptions should exist\r",
													"pm.test(\"GIVEN I want to get an existing medication request AND therapy type is either continuous or continuous-repeat-dispensing, WHEN I send the request, THEN the url value of one of the objects in the extension array = numberOfPrescriptionsIssued \", () => {\r",
													"    var checkExtension = \"extension\"\r",
													"    if (jsonData.hasOwnProperty(checkExtension)) {\r",
													"        var extension = jsonData.extension[0].extension\r",
													"        var numberOfRepeatPrescriptionsIssued = extension.some(extension => extension.url === \"numberOfPrescriptionsIssued\")\r",
													"        pm.expect(numberOfRepeatPrescriptionsIssued).to.eql(true)\r",
													"    }\r",
													"});\r",
													"\r",
													"//basedOn present if intent = order\r",
													"pm.test(\"GIVEN I send a request with an existing and valid medication request ID, WHEN the response is returned, THEN the property BasedOn.reference exists AND starts with MedicationRequest\", () => {\r",
													"    if (jsonData.intent === \"order\") {\r",
													"        pm.expect(jsonData.basedOn.reference).to.exist\r",
													"        var startsWithMedicationRequest = jsonData.basedOn[0].reference.startsWith(\"MedicationRequest/\")\r",
													"        pm.expect(startsWithMedicationRequest).to.eql(true)\r",
													"    }\r",
													"});\r",
													"\r",
													"//basedOn not present if intent = plan\r",
													"pm.test(\"GIVEN I send a request with an existing and valid medication request ID, WHEN the response is returned, THEN the property BasedOn.reference does not exit\", () => {\r",
													"    if (jsonData.intent === \"plan\") {\r",
													"        pm.expect(jsonData.basedOn).to.not.exist\r",
													"    }\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "oauth2",
											"oauth2": [
												{
													"key": "useBrowser",
													"value": true,
													"type": "boolean"
												},
												{
													"key": "tokenName",
													"value": "Token1",
													"type": "string"
												},
												{
													"key": "addTokenTo",
													"value": "header",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
												"key": "X-Correlation-ID",
												"value": "{{X-Correlation-ID}}"
											},
											{
												"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
												"key": "X-Request-ID",
												"value": "{{X-Request-ID}}"
											},
											{
												"key": "Accept",
												"value": "application/fhir+json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/MedicationRequest/{{MedicationRequestId}}",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"MedicationRequest",
												"{{MedicationRequestId}}"
											]
										},
										"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
									},
									"response": []
								}
							]
						},
						{
							"name": "Error tests",
							"item": [
								{
									"name": "Error: No X-request-id - 400",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = pm.response.json();\r",
													"\r",
													"//Verify the response status code\r",
													"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
													"    pm.response.to.have.status(400);\r",
													"});\r",
													"\r",
													"//Verify response header X-Correlation-ID\r",
													"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
													"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
													"});\r",
													"\r",
													"//Verify response header X-Request-ID\r",
													"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
													"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
													"});\r",
													"\r",
													"//Verify response header content-type\r",
													"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
													"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
													"});\r",
													"\r",
													"//Verify response schema\r",
													"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
													"    var schema = {\r",
													"        \"type\": \"object\",\r",
													"        \"properties\": {\r",
													"            \"resourceType\": {\r",
													"                \"type\": \"string\",\r",
													"                \"const\": \"OperationOutcome\"\r",
													"            },\r",
													"            \"id\": {\r",
													"                \"type\": \"string\"\r",
													"            },\r",
													"            \"meta\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"profile\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"minItems\": 1,\r",
													"                        \"maxItems\": 1,\r",
													"                        \"items\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"profile\"]\r",
													"            },\r",
													"            \"issue\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"id\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"severity\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"fatal\",\r",
													"                                \"error\",\r",
													"                                \"warning\",\r",
													"                                \"information\"\r",
													"                            ]\r",
													"                        },\r",
													"                        \"code\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"invalid\",\r",
													"                                \"structure\",\r",
													"                                \"required\",\r",
													"                                \"value\",\r",
													"                                \"invariant\",\r",
													"                                \"security\",\r",
													"                                \"login\",\r",
													"                                \"unknown\",\r",
													"                                \"expired\",\r",
													"                                \"forbidden\",\r",
													"                                \"suppressed\",\r",
													"                                \"processing\",\r",
													"                                \"not-supported\",\r",
													"                                \"duplicate\",\r",
													"                                \"not-found\",\r",
													"                                \"too-long\",\r",
													"                                \"code-invalid\",\r",
													"                                \"extension\",\r",
													"                                \"too-costly\",\r",
													"                                \"business-rule\",\r",
													"                                \"conflict\",\r",
													"                                \"incomplete\",\r",
													"                                \"transient\",\r",
													"                                \"lock-error\",\r",
													"                                \"no-store\",\r",
													"                                \"exception\",\r",
													"                                \"timeout\",\r",
													"                                \"throttled\",\r",
													"                                \"informational\",\r",
													"                            ]\r",
													"                        },\r",
													"                        \"details\": {\r",
													"                            \"type\": \"object\",\r",
													"                            \"properties\": {\r",
													"                                \"coding\": {\r",
													"                                    \"type\": \"array\",\r",
													"                                    \"minItems\": 1,\r",
													"                                    \"items\": {\r",
													"                                        \"properties\": {\r",
													"                                            \"system\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            },\r",
													"                                            \"code\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                                \"const\" : \"BAD_REQUEST\",\r",
													"                                            },\r",
													"                                            \"display\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            }\r",
													"                                        },\r",
													"                                        \"required\": [\r",
													"                                            \"system\",\r",
													"                                            \"code\",\r",
													"                                            \"display\"\r",
													"                                        ]\r",
													"                                    }\r",
													"                                }\r",
													"                            }\r",
													"                        },\r",
													"                        \"diagnostics\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"expression\": {\r",
													"                            \"type\": \"string\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\r",
													"                    \"severity\",\r",
													"                    \"code\",\r",
													"                ]\r",
													"            }\r",
													"        },\r",
													"        \"required\": [\r",
													"            \"resourceType\",\r",
													"            \"meta\",\r",
													"            \"issue\"\r",
													"        ]\r",
													"    }\r",
													"    pm.response.to.have.jsonSchema(schema);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "GET",
										"header": [
											{
												"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
												"key": "X-Correlation-ID",
												"value": "{{X-Correlation-ID}}"
											},
											{
												"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
												"key": "X-Request-ID",
												"value": "{{X-Request-ID}}",
												"disabled": true
											},
											{
												"key": "Accept",
												"value": "application/fhir+json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/MedicationRequest/{{MedicationRequestId}}",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"MedicationRequest",
												"{{MedicationRequestId}}"
											]
										},
										"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
									},
									"response": []
								},
								{
									"name": "Error: MedicationRequest uuid letters - 422",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = pm.response.json();\r",
													"\r",
													"//Verify the response status code\r",
													"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
													"    pm.response.to.have.status(422);\r",
													"});\r",
													"\r",
													"//Verify response header X-Correlation-ID\r",
													"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
													"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
													"});\r",
													"\r",
													"//Verify response header X-Request-ID\r",
													"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
													"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
													"});\r",
													"\r",
													"//Verify response header content-type\r",
													"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
													"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
													"});\r",
													"\r",
													"//Verify response schema\r",
													"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
													"    var schema = {\r",
													"        \"type\": \"object\",\r",
													"        \"properties\": {\r",
													"            \"resourceType\": {\r",
													"                \"type\": \"string\",\r",
													"                \"const\": \"OperationOutcome\"\r",
													"            },\r",
													"            \"id\": {\r",
													"                \"type\": \"string\"\r",
													"            },\r",
													"            \"meta\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"profile\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"minItems\": 1,\r",
													"                        \"maxItems\": 1,\r",
													"                        \"items\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"profile\"]\r",
													"            },\r",
													"            \"issue\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"id\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"severity\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"fatal\",\r",
													"                                \"error\",\r",
													"                                \"warning\",\r",
													"                                \"information\"\r",
													"                            ]\r",
													"                        },\r",
													"                        \"code\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"invalid\",\r",
													"                                \"structure\",\r",
													"                                \"required\",\r",
													"                                \"value\",\r",
													"                                \"invariant\",\r",
													"                                \"security\",\r",
													"                                \"login\",\r",
													"                                \"unknown\",\r",
													"                                \"expired\",\r",
													"                                \"forbidden\",\r",
													"                                \"suppressed\",\r",
													"                                \"processing\",\r",
													"                                \"not-supported\",\r",
													"                                \"duplicate\",\r",
													"                                \"not-found\",\r",
													"                                \"too-long\",\r",
													"                                \"code-invalid\",\r",
													"                                \"extension\",\r",
													"                                \"too-costly\",\r",
													"                                \"business-rule\",\r",
													"                                \"conflict\",\r",
													"                                \"incomplete\",\r",
													"                                \"transient\",\r",
													"                                \"lock-error\",\r",
													"                                \"no-store\",\r",
													"                                \"exception\",\r",
													"                                \"timeout\",\r",
													"                                \"throttled\",\r",
													"                                \"informational\",\r",
													"                            ]\r",
													"                        },\r",
													"                        \"details\": {\r",
													"                            \"type\": \"object\",\r",
													"                            \"properties\": {\r",
													"                                \"coding\": {\r",
													"                                    \"type\": \"array\",\r",
													"                                    \"minItems\": 1,\r",
													"                                    \"items\": {\r",
													"                                        \"properties\": {\r",
													"                                            \"system\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            },\r",
													"                                            \"code\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                                \"const\" : \"INVALID_PARAMETER\",\r",
													"                                            },\r",
													"                                            \"display\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            }\r",
													"                                        },\r",
													"                                        \"required\": [\r",
													"                                            \"system\",\r",
													"                                            \"code\",\r",
													"                                            \"display\"\r",
													"                                        ]\r",
													"                                    }\r",
													"                                }\r",
													"                            }\r",
													"                        },\r",
													"                        \"diagnostics\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"expression\": {\r",
													"                            \"type\": \"string\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\r",
													"                    \"severity\",\r",
													"                    \"code\",\r",
													"                ]\r",
													"            }\r",
													"        },\r",
													"        \"required\": [\r",
													"            \"resourceType\",\r",
													"            \"meta\",\r",
													"            \"issue\"\r",
													"        ]\r",
													"    }\r",
													"    pm.response.to.have.jsonSchema(schema);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "GET",
										"header": [
											{
												"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
												"key": "X-Correlation-ID",
												"value": "{{X-Correlation-ID}}"
											},
											{
												"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
												"key": "X-Request-ID",
												"value": "{{X-Request-ID}}"
											},
											{
												"key": "Accept",
												"value": "application/fhir+json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/MedicationRequest/{{MedicationRequestId}}",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"MedicationRequest",
												"{{MedicationRequestId}}"
											]
										},
										"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
									},
									"response": []
								},
								{
									"name": "Error: MedicationRequest uuid too short - 422",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = pm.response.json();\r",
													"\r",
													"//Verify the response status code\r",
													"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
													"    pm.response.to.have.status(422);\r",
													"});\r",
													"\r",
													"//Verify response header X-Correlation-ID\r",
													"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
													"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
													"});\r",
													"\r",
													"//Verify response header X-Request-ID\r",
													"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
													"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
													"});\r",
													"\r",
													"//Verify response header content-type\r",
													"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
													"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
													"});\r",
													"\r",
													"//Verify response schema\r",
													"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
													"    var schema = {\r",
													"        \"type\": \"object\",\r",
													"        \"properties\": {\r",
													"            \"resourceType\": {\r",
													"                \"type\": \"string\",\r",
													"                \"const\": \"OperationOutcome\"\r",
													"            },\r",
													"            \"id\": {\r",
													"                \"type\": \"string\"\r",
													"            },\r",
													"            \"meta\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"profile\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"minItems\": 1,\r",
													"                        \"maxItems\": 1,\r",
													"                        \"items\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"profile\"]\r",
													"            },\r",
													"            \"issue\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"id\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"severity\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"fatal\",\r",
													"                                \"error\",\r",
													"                                \"warning\",\r",
													"                                \"information\"\r",
													"                            ]\r",
													"                        },\r",
													"                        \"code\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"invalid\",\r",
													"                                \"structure\",\r",
													"                                \"required\",\r",
													"                                \"value\",\r",
													"                                \"invariant\",\r",
													"                                \"security\",\r",
													"                                \"login\",\r",
													"                                \"unknown\",\r",
													"                                \"expired\",\r",
													"                                \"forbidden\",\r",
													"                                \"suppressed\",\r",
													"                                \"processing\",\r",
													"                                \"not-supported\",\r",
													"                                \"duplicate\",\r",
													"                                \"not-found\",\r",
													"                                \"too-long\",\r",
													"                                \"code-invalid\",\r",
													"                                \"extension\",\r",
													"                                \"too-costly\",\r",
													"                                \"business-rule\",\r",
													"                                \"conflict\",\r",
													"                                \"incomplete\",\r",
													"                                \"transient\",\r",
													"                                \"lock-error\",\r",
													"                                \"no-store\",\r",
													"                                \"exception\",\r",
													"                                \"timeout\",\r",
													"                                \"throttled\",\r",
													"                                \"informational\",\r",
													"                            ]\r",
													"                        },\r",
													"                        \"details\": {\r",
													"                            \"type\": \"object\",\r",
													"                            \"properties\": {\r",
													"                                \"coding\": {\r",
													"                                    \"type\": \"array\",\r",
													"                                    \"minItems\": 1,\r",
													"                                    \"items\": {\r",
													"                                        \"properties\": {\r",
													"                                            \"system\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            },\r",
													"                                            \"code\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                                \"const\" : \"INVALID_PARAMETER\",\r",
													"                                            },\r",
													"                                            \"display\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            }\r",
													"                                        },\r",
													"                                        \"required\": [\r",
													"                                            \"system\",\r",
													"                                            \"code\",\r",
													"                                            \"display\"\r",
													"                                        ]\r",
													"                                    }\r",
													"                                }\r",
													"                            }\r",
													"                        },\r",
													"                        \"diagnostics\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"expression\": {\r",
													"                            \"type\": \"string\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\r",
													"                    \"severity\",\r",
													"                    \"code\",\r",
													"                ]\r",
													"            }\r",
													"        },\r",
													"        \"required\": [\r",
													"            \"resourceType\",\r",
													"            \"meta\",\r",
													"            \"issue\"\r",
													"        ]\r",
													"    }\r",
													"    pm.response.to.have.jsonSchema(schema);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "GET",
										"header": [
											{
												"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
												"key": "X-Correlation-ID",
												"value": "{{X-Correlation-ID}}"
											},
											{
												"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
												"key": "X-Request-ID",
												"value": "{{X-Request-ID}}"
											},
											{
												"key": "Accept",
												"value": "application/fhir+json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/MedicationRequest/825fabd0-23dd-4f4c-adce-4a7ac2c",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"MedicationRequest",
												"825fabd0-23dd-4f4c-adce-4a7ac2c"
											]
										},
										"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
									},
									"response": []
								},
								{
									"name": "Error: MedicationRequest uuid no hyphens - 422",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = pm.response.json();\r",
													"\r",
													"//Verify the response status code\r",
													"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
													"    pm.response.to.have.status(422);\r",
													"});\r",
													"\r",
													"//Verify response header X-Correlation-ID\r",
													"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
													"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
													"});\r",
													"\r",
													"//Verify response header X-Request-ID\r",
													"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
													"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
													"});\r",
													"\r",
													"//Verify response header content-type\r",
													"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
													"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
													"});\r",
													"\r",
													"//Verify response schema\r",
													"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
													"    var schema = {\r",
													"        \"type\": \"object\",\r",
													"        \"properties\": {\r",
													"            \"resourceType\": {\r",
													"                \"type\": \"string\",\r",
													"                \"const\": \"OperationOutcome\"\r",
													"            },\r",
													"            \"id\": {\r",
													"                \"type\": \"string\"\r",
													"            },\r",
													"            \"meta\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"profile\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"minItems\": 1,\r",
													"                        \"maxItems\": 1,\r",
													"                        \"items\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"profile\"]\r",
													"            },\r",
													"            \"issue\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"id\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"severity\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"fatal\",\r",
													"                                \"error\",\r",
													"                                \"warning\",\r",
													"                                \"information\"\r",
													"                            ]\r",
													"                        },\r",
													"                        \"code\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"invalid\",\r",
													"                                \"structure\",\r",
													"                                \"required\",\r",
													"                                \"value\",\r",
													"                                \"invariant\",\r",
													"                                \"security\",\r",
													"                                \"login\",\r",
													"                                \"unknown\",\r",
													"                                \"expired\",\r",
													"                                \"forbidden\",\r",
													"                                \"suppressed\",\r",
													"                                \"processing\",\r",
													"                                \"not-supported\",\r",
													"                                \"duplicate\",\r",
													"                                \"not-found\",\r",
													"                                \"too-long\",\r",
													"                                \"code-invalid\",\r",
													"                                \"extension\",\r",
													"                                \"too-costly\",\r",
													"                                \"business-rule\",\r",
													"                                \"conflict\",\r",
													"                                \"incomplete\",\r",
													"                                \"transient\",\r",
													"                                \"lock-error\",\r",
													"                                \"no-store\",\r",
													"                                \"exception\",\r",
													"                                \"timeout\",\r",
													"                                \"throttled\",\r",
													"                                \"informational\",\r",
													"                            ]\r",
													"                        },\r",
													"                        \"details\": {\r",
													"                            \"type\": \"object\",\r",
													"                            \"properties\": {\r",
													"                                \"coding\": {\r",
													"                                    \"type\": \"array\",\r",
													"                                    \"minItems\": 1,\r",
													"                                    \"items\": {\r",
													"                                        \"properties\": {\r",
													"                                            \"system\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            },\r",
													"                                            \"code\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                                \"const\" : \"INVALID_PARAMETER\",\r",
													"                                            },\r",
													"                                            \"display\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            }\r",
													"                                        },\r",
													"                                        \"required\": [\r",
													"                                            \"system\",\r",
													"                                            \"code\",\r",
													"                                            \"display\"\r",
													"                                        ]\r",
													"                                    }\r",
													"                                }\r",
													"                            }\r",
													"                        },\r",
													"                        \"diagnostics\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"expression\": {\r",
													"                            \"type\": \"string\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\r",
													"                    \"severity\",\r",
													"                    \"code\",\r",
													"                ]\r",
													"            }\r",
													"        },\r",
													"        \"required\": [\r",
													"            \"resourceType\",\r",
													"            \"meta\",\r",
													"            \"issue\"\r",
													"        ]\r",
													"    }\r",
													"    pm.response.to.have.jsonSchema(schema);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "GET",
										"header": [
											{
												"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
												"key": "X-Correlation-ID",
												"value": "{{X-Correlation-ID}}"
											},
											{
												"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
												"key": "X-Request-ID",
												"value": "{{X-Request-ID}}"
											},
											{
												"key": "Accept",
												"value": "application/fhir+json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/MedicationRequest/825fabd023dd4f4cadce4a7ac2c71659",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"MedicationRequest",
												"825fabd023dd4f4cadce4a7ac2c71659"
											]
										},
										"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
									},
									"response": []
								},
								{
									"name": "Error: MedicationRequest uuid doesn't match any on record - 404",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = pm.response.json();\r",
													"\r",
													"//Verify the response status code\r",
													"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 404\", function () {\r",
													"    pm.response.to.have.status(404);\r",
													"});\r",
													"\r",
													"//Verify response header X-Correlation-ID\r",
													"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
													"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
													"});\r",
													"\r",
													"//Verify response header X-Request-ID\r",
													"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
													"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
													"});\r",
													"\r",
													"//Verify response header content-type\r",
													"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
													"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
													"});\r",
													"\r",
													"//Verify response schema\r",
													"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
													"    var schema = {\r",
													"        \"type\": \"object\",\r",
													"        \"properties\": {\r",
													"            \"resourceType\": {\r",
													"                \"type\": \"string\",\r",
													"                \"const\": \"OperationOutcome\"\r",
													"            },\r",
													"            \"id\": {\r",
													"                \"type\": \"string\"\r",
													"            },\r",
													"            \"meta\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"profile\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"minItems\": 1,\r",
													"                        \"maxItems\": 1,\r",
													"                        \"items\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"profile\"]\r",
													"            },\r",
													"            \"issue\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"id\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"severity\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"fatal\",\r",
													"                                \"error\",\r",
													"                                \"warning\",\r",
													"                                \"information\"\r",
													"                            ]\r",
													"                        },\r",
													"                        \"code\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"invalid\",\r",
													"                                \"structure\",\r",
													"                                \"required\",\r",
													"                                \"value\",\r",
													"                                \"invariant\",\r",
													"                                \"security\",\r",
													"                                \"login\",\r",
													"                                \"unknown\",\r",
													"                                \"expired\",\r",
													"                                \"forbidden\",\r",
													"                                \"suppressed\",\r",
													"                                \"processing\",\r",
													"                                \"not-supported\",\r",
													"                                \"duplicate\",\r",
													"                                \"not-found\",\r",
													"                                \"too-long\",\r",
													"                                \"code-invalid\",\r",
													"                                \"extension\",\r",
													"                                \"too-costly\",\r",
													"                                \"business-rule\",\r",
													"                                \"conflict\",\r",
													"                                \"incomplete\",\r",
													"                                \"transient\",\r",
													"                                \"lock-error\",\r",
													"                                \"no-store\",\r",
													"                                \"exception\",\r",
													"                                \"timeout\",\r",
													"                                \"throttled\",\r",
													"                                \"informational\",\r",
													"                            ]\r",
													"                        },\r",
													"                        \"details\": {\r",
													"                            \"type\": \"object\",\r",
													"                            \"properties\": {\r",
													"                                \"coding\": {\r",
													"                                    \"type\": \"array\",\r",
													"                                    \"minItems\": 1,\r",
													"                                    \"items\": {\r",
													"                                        \"properties\": {\r",
													"                                            \"system\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            },\r",
													"                                            \"code\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                                \"const\" : \"RESOURCE_NOT_FOUND\",\r",
													"                                            },\r",
													"                                            \"display\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            }\r",
													"                                        },\r",
													"                                        \"required\": [\r",
													"                                            \"system\",\r",
													"                                            \"code\",\r",
													"                                            \"display\"\r",
													"                                        ]\r",
													"                                    }\r",
													"                                }\r",
													"                            }\r",
													"                        },\r",
													"                        \"diagnostics\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"expression\": {\r",
													"                            \"type\": \"string\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\r",
													"                    \"severity\",\r",
													"                    \"code\",\r",
													"                ]\r",
													"            }\r",
													"        },\r",
													"        \"required\": [\r",
													"            \"resourceType\",\r",
													"            \"meta\",\r",
													"            \"issue\"\r",
													"        ]\r",
													"    }\r",
													"    pm.response.to.have.jsonSchema(schema);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "GET",
										"header": [
											{
												"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
												"key": "X-Correlation-ID",
												"value": "{{X-Correlation-ID}}"
											},
											{
												"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
												"key": "X-Request-ID",
												"value": "{{X-Request-ID}}"
											},
											{
												"key": "Accept",
												"value": "application/fhir+json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/MedicationRequest/?{{$guid}}",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"MedicationRequest",
												""
											],
											"query": [
												{
													"key": "{{$guid}}",
													"value": null
												}
											]
										},
										"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
									},
									"response": []
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "PractionerRole",
			"item": [
				{
					"name": "{id}",
					"item": [
						{
							"name": "Positive tests",
							"item": [
								{
									"name": "Get practitioner role details",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = pm.response.json();\r",
													"\r",
													"//Verify the response status code\r",
													"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"\r",
													"//Verify response header X-Correlation-ID\r",
													"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", () => {\r",
													"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
													"});\r",
													"\r",
													"//Verify response header X-Request-ID\r",
													"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", () => {\r",
													"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
													"});\r",
													"\r",
													"//Verify response header content-type\r",
													"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
													"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
													"});\r",
													"\r",
													"//Verify response schema\r",
													"pm.test(\"GIVEN I send a practitioner role request, WHEN the response is returned, THEN the json response corresponds to the required practitioner role schema\", () => {\r",
													"    var schema = {\r",
													"        \"type\": \"object\",\r",
													"        \"properties\": {\r",
													"            \"resourceType\": {\r",
													"                \"type\": \"string\",\r",
													"                \"const\": \"PractitionerRole\"\r",
													"            },\r",
													"            \"id\": {\r",
													"                \"type\": \"string\",\r",
													"                \"format\": \"uuid\"\r",
													"            },\r",
													"            \"meta\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"profile\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"minItems\": 1,\r",
													"                        \"maxItems\": 1,\r",
													"                        \"items\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-PractitionerRole\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"profile\"]\r",
													"            },\r",
													"            \"practitioner\": {\r",
													"                \"type\": \"object\"\r",
													"            },\r",
													"            \"organization\": {\r",
													"                \"type\": \"object\"\r",
													"            }\r",
													"        },\r",
													"        \"required\": [\"resourceType\", \"id\", \"meta\", \"practitioner\", \"organization\"]\r",
													"    }\r",
													"    pm.response.to.have.jsonSchema(schema);\r",
													"});\r",
													"\r",
													"//verify returned practitioner role id is the requested one\r",
													"pm.test(\"GIVEN I send a request with an existing and valid practitioner role ID, WHEN the response is returned, THEN the practitioner role ID in the response matches the id in the request url\", () => {\r",
													"    var practitionerId = pm.variables.get(\"PractitionerId\");\r",
													"    pm.expect(jsonData.id).to.eql(practitionerId);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
												"key": "X-Correlation-ID",
												"value": "{{X-Correlation-ID}}"
											},
											{
												"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
												"key": "X-Request-ID",
												"value": "{{X-Request-ID}}"
											},
											{
												"key": "Accept",
												"value": "application/fhir+json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/PractionerRole/{{PractitionerId}}",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"PractionerRole",
												"{{PractitionerId}}"
											]
										},
										"description": "Use this endpoint to get details of practitioners issuing previous prescriptions.\nThe request must include the following parameter:\n* id\n"
									},
									"response": []
								}
							]
						},
						{
							"name": "Error tests",
							"item": [
								{
									"name": "Error: Practitioner uuid letters - 422",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = pm.response.json();\r",
													"\r",
													"//Verify the response status code\r",
													"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
													"    pm.response.to.have.status(422);\r",
													"});\r",
													"\r",
													"//Verify response header X-Correlation-ID\r",
													"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
													"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
													"});\r",
													"\r",
													"//Verify response header X-Request-ID\r",
													"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
													"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
													"});\r",
													"\r",
													"//Verify response header content-type\r",
													"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
													"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
													"});\r",
													"\r",
													"//Verify response schema\r",
													"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
													"    var schema = {\r",
													"        \"type\": \"object\",\r",
													"        \"properties\": {\r",
													"            \"resourceType\": {\r",
													"                \"type\": \"string\",\r",
													"                \"const\": \"OperationOutcome\"\r",
													"            },\r",
													"            \"id\": {\r",
													"                \"type\": \"string\"\r",
													"            },\r",
													"            \"meta\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"profile\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"minItems\": 1,\r",
													"                        \"maxItems\": 1,\r",
													"                        \"items\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"profile\"]\r",
													"            },\r",
													"            \"issue\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"id\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"severity\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"fatal\",\r",
													"                                \"error\",\r",
													"                                \"warning\",\r",
													"                                \"information\"\r",
													"                            ]\r",
													"                        },\r",
													"                        \"code\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"invalid\",\r",
													"                                \"structure\",\r",
													"                                \"required\",\r",
													"                                \"value\",\r",
													"                                \"invariant\",\r",
													"                                \"security\",\r",
													"                                \"login\",\r",
													"                                \"unknown\",\r",
													"                                \"expired\",\r",
													"                                \"forbidden\",\r",
													"                                \"suppressed\",\r",
													"                                \"processing\",\r",
													"                                \"not-supported\",\r",
													"                                \"duplicate\",\r",
													"                                \"not-found\",\r",
													"                                \"too-long\",\r",
													"                                \"code-invalid\",\r",
													"                                \"extension\",\r",
													"                                \"too-costly\",\r",
													"                                \"business-rule\",\r",
													"                                \"conflict\",\r",
													"                                \"incomplete\",\r",
													"                                \"transient\",\r",
													"                                \"lock-error\",\r",
													"                                \"no-store\",\r",
													"                                \"exception\",\r",
													"                                \"timeout\",\r",
													"                                \"throttled\",\r",
													"                                \"informational\",\r",
													"                            ]\r",
													"                        },\r",
													"                        \"details\": {\r",
													"                            \"type\": \"object\",\r",
													"                            \"properties\": {\r",
													"                                \"coding\": {\r",
													"                                    \"type\": \"array\",\r",
													"                                    \"minItems\": 1,\r",
													"                                    \"items\": {\r",
													"                                        \"properties\": {\r",
													"                                            \"system\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            },\r",
													"                                            \"code\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                                \"const\" : \"INVALID_PARAMETER\",\r",
													"                                            },\r",
													"                                            \"display\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            }\r",
													"                                        },\r",
													"                                        \"required\": [\r",
													"                                            \"system\",\r",
													"                                            \"code\",\r",
													"                                            \"display\"\r",
													"                                        ]\r",
													"                                    }\r",
													"                                }\r",
													"                            }\r",
													"                        },\r",
													"                        \"diagnostics\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"expression\": {\r",
													"                            \"type\": \"string\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\r",
													"                    \"severity\",\r",
													"                    \"code\",\r",
													"                ]\r",
													"            }\r",
													"        },\r",
													"        \"required\": [\r",
													"            \"resourceType\",\r",
													"            \"meta\",\r",
													"            \"issue\"\r",
													"        ]\r",
													"    }\r",
													"    pm.response.to.have.jsonSchema(schema);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "GET",
										"header": [
											{
												"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
												"key": "X-Correlation-ID",
												"value": "{{X-Correlation-ID}}"
											},
											{
												"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
												"key": "X-Request-ID",
												"value": "{{X-Request-ID}}"
											},
											{
												"key": "Accept",
												"value": "application/fhir+json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/PractionerRole/InvalidUUID",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"PractionerRole",
												"InvalidUUID"
											]
										},
										"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
									},
									"response": []
								},
								{
									"name": "Error: Practitioner uuid too short - 422",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = pm.response.json();\r",
													"\r",
													"//Verify the response status code\r",
													"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
													"    pm.response.to.have.status(422);\r",
													"});\r",
													"\r",
													"//Verify response header X-Correlation-ID\r",
													"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
													"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
													"});\r",
													"\r",
													"//Verify response header X-Request-ID\r",
													"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
													"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
													"});\r",
													"\r",
													"//Verify response header content-type\r",
													"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
													"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
													"});\r",
													"\r",
													"//Verify response schema\r",
													"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
													"    var schema = {\r",
													"        \"type\": \"object\",\r",
													"        \"properties\": {\r",
													"            \"resourceType\": {\r",
													"                \"type\": \"string\",\r",
													"                \"const\": \"OperationOutcome\"\r",
													"            },\r",
													"            \"id\": {\r",
													"                \"type\": \"string\"\r",
													"            },\r",
													"            \"meta\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"profile\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"minItems\": 1,\r",
													"                        \"maxItems\": 1,\r",
													"                        \"items\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"profile\"]\r",
													"            },\r",
													"            \"issue\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"id\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"severity\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"fatal\",\r",
													"                                \"error\",\r",
													"                                \"warning\",\r",
													"                                \"information\"\r",
													"                            ]\r",
													"                        },\r",
													"                        \"code\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"invalid\",\r",
													"                                \"structure\",\r",
													"                                \"required\",\r",
													"                                \"value\",\r",
													"                                \"invariant\",\r",
													"                                \"security\",\r",
													"                                \"login\",\r",
													"                                \"unknown\",\r",
													"                                \"expired\",\r",
													"                                \"forbidden\",\r",
													"                                \"suppressed\",\r",
													"                                \"processing\",\r",
													"                                \"not-supported\",\r",
													"                                \"duplicate\",\r",
													"                                \"not-found\",\r",
													"                                \"too-long\",\r",
													"                                \"code-invalid\",\r",
													"                                \"extension\",\r",
													"                                \"too-costly\",\r",
													"                                \"business-rule\",\r",
													"                                \"conflict\",\r",
													"                                \"incomplete\",\r",
													"                                \"transient\",\r",
													"                                \"lock-error\",\r",
													"                                \"no-store\",\r",
													"                                \"exception\",\r",
													"                                \"timeout\",\r",
													"                                \"throttled\",\r",
													"                                \"informational\",\r",
													"                            ]\r",
													"                        },\r",
													"                        \"details\": {\r",
													"                            \"type\": \"object\",\r",
													"                            \"properties\": {\r",
													"                                \"coding\": {\r",
													"                                    \"type\": \"array\",\r",
													"                                    \"minItems\": 1,\r",
													"                                    \"items\": {\r",
													"                                        \"properties\": {\r",
													"                                            \"system\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            },\r",
													"                                            \"code\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                                \"const\" : \"INVALID_PARAMETER\",\r",
													"                                            },\r",
													"                                            \"display\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            }\r",
													"                                        },\r",
													"                                        \"required\": [\r",
													"                                            \"system\",\r",
													"                                            \"code\",\r",
													"                                            \"display\"\r",
													"                                        ]\r",
													"                                    }\r",
													"                                }\r",
													"                            }\r",
													"                        },\r",
													"                        \"diagnostics\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"expression\": {\r",
													"                            \"type\": \"string\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\r",
													"                    \"severity\",\r",
													"                    \"code\",\r",
													"                ]\r",
													"            }\r",
													"        },\r",
													"        \"required\": [\r",
													"            \"resourceType\",\r",
													"            \"meta\",\r",
													"            \"issue\"\r",
													"        ]\r",
													"    }\r",
													"    pm.response.to.have.jsonSchema(schema);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "GET",
										"header": [
											{
												"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
												"key": "X-Correlation-ID",
												"value": "{{X-Correlation-ID}}"
											},
											{
												"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
												"key": "X-Request-ID",
												"value": "{{X-Request-ID}}"
											},
											{
												"key": "Accept",
												"value": "application/fhir+json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/PractionerRole/825fabd0-23dd-4f4c-adce-4a7ac2c",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"PractionerRole",
												"825fabd0-23dd-4f4c-adce-4a7ac2c"
											]
										},
										"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
									},
									"response": []
								},
								{
									"name": "Error: Practitioner uuid no hyphens - 422",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = pm.response.json();\r",
													"\r",
													"//Verify the response status code\r",
													"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
													"    pm.response.to.have.status(422);\r",
													"});\r",
													"\r",
													"//Verify response header X-Correlation-ID\r",
													"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
													"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
													"});\r",
													"\r",
													"//Verify response header X-Request-ID\r",
													"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
													"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
													"});\r",
													"\r",
													"//Verify response header content-type\r",
													"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
													"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
													"});\r",
													"\r",
													"//Verify response schema\r",
													"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
													"    var schema = {\r",
													"        \"type\": \"object\",\r",
													"        \"properties\": {\r",
													"            \"resourceType\": {\r",
													"                \"type\": \"string\",\r",
													"                \"const\": \"OperationOutcome\"\r",
													"            },\r",
													"            \"id\": {\r",
													"                \"type\": \"string\"\r",
													"            },\r",
													"            \"meta\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"profile\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"minItems\": 1,\r",
													"                        \"maxItems\": 1,\r",
													"                        \"items\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"profile\"]\r",
													"            },\r",
													"            \"issue\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"id\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"severity\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"fatal\",\r",
													"                                \"error\",\r",
													"                                \"warning\",\r",
													"                                \"information\"\r",
													"                            ]\r",
													"                        },\r",
													"                        \"code\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"invalid\",\r",
													"                                \"structure\",\r",
													"                                \"required\",\r",
													"                                \"value\",\r",
													"                                \"invariant\",\r",
													"                                \"security\",\r",
													"                                \"login\",\r",
													"                                \"unknown\",\r",
													"                                \"expired\",\r",
													"                                \"forbidden\",\r",
													"                                \"suppressed\",\r",
													"                                \"processing\",\r",
													"                                \"not-supported\",\r",
													"                                \"duplicate\",\r",
													"                                \"not-found\",\r",
													"                                \"too-long\",\r",
													"                                \"code-invalid\",\r",
													"                                \"extension\",\r",
													"                                \"too-costly\",\r",
													"                                \"business-rule\",\r",
													"                                \"conflict\",\r",
													"                                \"incomplete\",\r",
													"                                \"transient\",\r",
													"                                \"lock-error\",\r",
													"                                \"no-store\",\r",
													"                                \"exception\",\r",
													"                                \"timeout\",\r",
													"                                \"throttled\",\r",
													"                                \"informational\",\r",
													"                            ]\r",
													"                        },\r",
													"                        \"details\": {\r",
													"                            \"type\": \"object\",\r",
													"                            \"properties\": {\r",
													"                                \"coding\": {\r",
													"                                    \"type\": \"array\",\r",
													"                                    \"minItems\": 1,\r",
													"                                    \"items\": {\r",
													"                                        \"properties\": {\r",
													"                                            \"system\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            },\r",
													"                                            \"code\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                                \"const\": \"INVALID_PARAMETER\"\r",
													"                                            },\r",
													"                                            \"display\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                                //\"const\": \"\"\r",
													"                                            }\r",
													"                                        },\r",
													"                                        \"required\": [\r",
													"                                            \"system\",\r",
													"                                            \"code\",\r",
													"                                            \"display\"\r",
													"                                        ]\r",
													"                                    }\r",
													"                                }\r",
													"                            }\r",
													"                        },\r",
													"                        \"diagnostics\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"expression\": {\r",
													"                            \"type\": \"string\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\r",
													"                    \"severity\",\r",
													"                    \"code\",\r",
													"                ]\r",
													"            }\r",
													"        },\r",
													"        \"required\": [\r",
													"            \"resourceType\",\r",
													"            \"meta\",\r",
													"            \"issue\"\r",
													"        ]\r",
													"    }\r",
													"    pm.response.to.have.jsonSchema(schema);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "GET",
										"header": [
											{
												"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
												"key": "X-Correlation-ID",
												"value": "{{X-Correlation-ID}}"
											},
											{
												"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
												"key": "X-Request-ID",
												"value": "{{X-Request-ID}}"
											},
											{
												"key": "Accept",
												"value": "application/fhir+json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/PractionerRole/825fabd023dd4f4cadce4a7ac2c71659",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"PractionerRole",
												"825fabd023dd4f4cadce4a7ac2c71659"
											]
										},
										"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
									},
									"response": []
								},
								{
									"name": "Error: Practitioner uuid doesn't match any on record - 404",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = pm.response.json();\r",
													"\r",
													"//Verify the response status code\r",
													"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 404\", function () {\r",
													"    pm.response.to.have.status(404);\r",
													"});\r",
													"\r",
													"//Verify response header X-Correlation-ID\r",
													"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
													"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
													"});\r",
													"\r",
													"//Verify response header X-Request-ID\r",
													"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
													"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
													"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
													"});\r",
													"\r",
													"//Verify response header content-type\r",
													"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
													"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
													"});\r",
													"\r",
													"//Verify response schema\r",
													"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
													"    var schema = {\r",
													"        \"type\": \"object\",\r",
													"        \"properties\": {\r",
													"            \"resourceType\": {\r",
													"                \"type\": \"string\",\r",
													"                \"const\": \"OperationOutcome\"\r",
													"            },\r",
													"            \"id\": {\r",
													"                \"type\": \"string\"\r",
													"            },\r",
													"            \"meta\": {\r",
													"                \"type\": \"object\",\r",
													"                \"properties\": {\r",
													"                    \"profile\": {\r",
													"                        \"type\": \"array\",\r",
													"                        \"minItems\": 1,\r",
													"                        \"maxItems\": 1,\r",
													"                        \"items\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\"profile\"]\r",
													"            },\r",
													"            \"issue\": {\r",
													"                \"type\": \"array\",\r",
													"                \"items\": {\r",
													"                    \"properties\": {\r",
													"                        \"id\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"severity\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"fatal\",\r",
													"                                \"error\",\r",
													"                                \"warning\",\r",
													"                                \"information\"\r",
													"                            ]\r",
													"                        },\r",
													"                        \"code\": {\r",
													"                            \"type\": \"string\",\r",
													"                            \"enum\": [\r",
													"                                \"invalid\",\r",
													"                                \"structure\",\r",
													"                                \"required\",\r",
													"                                \"value\",\r",
													"                                \"invariant\",\r",
													"                                \"security\",\r",
													"                                \"login\",\r",
													"                                \"unknown\",\r",
													"                                \"expired\",\r",
													"                                \"forbidden\",\r",
													"                                \"suppressed\",\r",
													"                                \"processing\",\r",
													"                                \"not-supported\",\r",
													"                                \"duplicate\",\r",
													"                                \"not-found\",\r",
													"                                \"too-long\",\r",
													"                                \"code-invalid\",\r",
													"                                \"extension\",\r",
													"                                \"too-costly\",\r",
													"                                \"business-rule\",\r",
													"                                \"conflict\",\r",
													"                                \"incomplete\",\r",
													"                                \"transient\",\r",
													"                                \"lock-error\",\r",
													"                                \"no-store\",\r",
													"                                \"exception\",\r",
													"                                \"timeout\",\r",
													"                                \"throttled\",\r",
													"                                \"informational\",\r",
													"                            ]\r",
													"                        },\r",
													"                        \"details\": {\r",
													"                            \"type\": \"object\",\r",
													"                            \"properties\": {\r",
													"                                \"coding\": {\r",
													"                                    \"type\": \"array\",\r",
													"                                    \"minItems\": 1,\r",
													"                                    \"items\": {\r",
													"                                        \"properties\": {\r",
													"                                            \"system\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            },\r",
													"                                            \"code\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                                \"const\" : \"RESOURCE_NOT_FOUND\",\r",
													"                                            },\r",
													"                                            \"display\": {\r",
													"                                                \"type\": \"string\",\r",
													"                                            }\r",
													"                                        },\r",
													"                                        \"required\": [\r",
													"                                            \"system\",\r",
													"                                            \"code\",\r",
													"                                            \"display\"\r",
													"                                        ]\r",
													"                                    }\r",
													"                                }\r",
													"                            }\r",
													"                        },\r",
													"                        \"diagnostics\": {\r",
													"                            \"type\": \"string\"\r",
													"                        },\r",
													"                        \"expression\": {\r",
													"                            \"type\": \"string\"\r",
													"                        }\r",
													"                    }\r",
													"                },\r",
													"                \"required\": [\r",
													"                    \"severity\",\r",
													"                    \"code\",\r",
													"                ]\r",
													"            }\r",
													"        },\r",
													"        \"required\": [\r",
													"            \"resourceType\",\r",
													"            \"meta\",\r",
													"            \"issue\"\r",
													"        ]\r",
													"    }\r",
													"    pm.response.to.have.jsonSchema(schema);\r",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "GET",
										"header": [
											{
												"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
												"key": "X-Correlation-ID",
												"value": "{{X-Correlation-ID}}"
											},
											{
												"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
												"key": "X-Request-ID",
												"value": "{{X-Request-ID}}"
											},
											{
												"key": "Accept",
												"value": "application/fhir+json"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/PractionerRole/{{$guid}}",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"PractionerRole",
												"{{$guid}}"
											]
										},
										"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
									},
									"response": []
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Patient",
			"item": [
				{
					"name": "{id}",
					"item": [
						{
							"name": "MedicationStatement",
							"item": [
								{
									"name": "Positive tests",
									"item": [
										{
											"name": "Get medications relating to a patient - Patient Id",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", () => {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", () => {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a practitioner role request, WHEN the response is returned, THEN the json response corresponds to the required practitioner role schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"Bundle\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\",\r",
															"                \"format\": \"uuid\"\r",
															"            },\r",
															"            \"entry\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"resource\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"resourceType\": {\r",
															"                                    \"type\": \"string\",\r",
															"                                    \"const\": \"MedicationStatement\"\r",
															"                                },\r",
															"                                \"id\": {\r",
															"                                    \"type\": \"string\",\r",
															"                                    \"format\": \"uuid\"\r",
															"                                },\r",
															"                                \"meta\": {\r",
															"                                    \"type\": \"object\",\r",
															"                                    \"properties\": {\r",
															"                                        \"profile\": {\r",
															"                                            \"type\": \"array\",\r",
															"                                            \"minItems\": 1,\r",
															"                                            \"maxItems\": 1,\r",
															"                                            \"items\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-MedicationStatement\"\r",
															"                                            }\r",
															"                                        }\r",
															"                                    },\r",
															"                                    \"required\": [\"profile\"]\r",
															"                                },\r",
															"                                \"identifier\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"value\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"format\": \"uuid\"\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\"value\"]\r",
															"                                    }\r",
															"                                },\r",
															"                                \"basedOn\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"maxItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"reference\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\"\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\"reference\", \"display\"]\r",
															"                                    }\r",
															"                                },\r",
															"                                \"status\": {\r",
															"                                    \"type\": \"string\",\r",
															"                                    \"enum\": [\"active\", \"stopped\", \"complete\"]\r",
															"                                },\r",
															"                                \"medicationCodeableConcept\": {\r",
															"                                    \"type\": \"object\",\r",
															"                                    \"properties\": {\r",
															"                                        \"coding\": {\r",
															"                                            \"type\": \"array\",\r",
															"                                            \"items\": {\r",
															"                                                \"type\": \"object\",\r",
															"                                                \"properties\": {\r",
															"                                                    \"system\": {\r",
															"                                                        \"type\": \"string\",\r",
															"                                                    },\r",
															"                                                    \"code\": {\r",
															"                                                        \"type\": \"string\"\r",
															"                                                    },\r",
															"                                                    \"display\": {\r",
															"                                                        \"type\": \"string\"\r",
															"                                                    }\r",
															"                                                },\r",
															"                                                \"required\": [\"system\", \"code\", \"display\"]\r",
															"                                            }\r",
															"                                        }\r",
															"                                    },\r",
															"                                    \"required\": [\"coding\"]\r",
															"                                },\r",
															"                                \"subject\": {\r",
															"                                    \"type\": \"object\",\r",
															"                                    \"properties\": {\r",
															"                                        \"reference\": {\r",
															"                                            \"type\": \"string\"\r",
															"                                        },\r",
															"                                        \"identifier\": {\r",
															"                                            \"type\": \"object\",\r",
															"                                            \"properties\": {\r",
															"                                                \"system\": {\r",
															"                                                    \"type\": \"string\",\r",
															"                                                    \"const\": \"https://fhir.nhs.uk/Id/nhs-number\"\r",
															"                                                },\r",
															"                                                \"value\": {\r",
															"                                                    \"type\": \"string\"\r",
															"                                                }\r",
															"                                            },\r",
															"                                            \"required\": [\"system\", \"value\"]\r",
															"                                        },\r",
															"                                        \"display\": {\r",
															"                                            \"type\": \"string\"\r",
															"                                        }\r",
															"                                    },\r",
															"                                    \"required\": [\"reference\", \"identifier\", \"display\"]\r",
															"                                },\r",
															"                                \"effectivePeriod\": {\r",
															"                                    \"type\": \"object\",\r",
															"                                    \"properties\": {\r",
															"                                        \"start\": {\r",
															"                                            \"type\": \"string\",\r",
															"                                            \"format\": \"date-time\"\r",
															"                                        },\r",
															"                                    },\r",
															"                                    \"required\": [\"start\", \"end\"]\r",
															"                                },\r",
															"                                \"dateAsserted\": {\r",
															"                                    \"type\": \"string\"\r",
															"                                },\r",
															"                                \"dosage\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"text\": {\r",
															"                                                \"type\": \"string\"\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\"text\"]\r",
															"                                    }\r",
															"                                }\r",
															"                            },\r",
															"                            \"required\": [\r",
															"                                \"resourceType\",\r",
															"                                \"id\",\r",
															"                                \"meta\",\r",
															"                                \"identifier\",\r",
															"                                \"basedOn\",\r",
															"                                \"status\",\r",
															"                                \"medicationCodeableConcept\",\r",
															"                                \"subject\",\r",
															"                                \"effectivePeriod\",\r",
															"                                \"dateAsserted\",\r",
															"                                \"dosage\",\r",
															"                            ]\r",
															"                        },\r",
															"                    },\r",
															"                    \"required\": [\"resource\"]\r",
															"                }\r",
															"            },\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"id\",\r",
															"            \"entry\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});\r",
															"\r",
															"\r",
															"//returned medication statements are all for the patient specified in request url\r",
															"pm.test(\"GIVEN I send a request with an existing and valid patient ID, WHEN the response is returned, THEN the patient id in medicationStatement.subject matches the patient id in the request\", () => {\r",
															"    jsonData.entry.forEach((medicationStatement) => {\r",
															"        var patientId = pm.variables.get(\"PatientId\");\r",
															"        pm.expect(medicationStatement.resource.subject.identifier.value).to.eql(patientId);\r",
															"        var ref = medicationStatement.resource.subject.reference\r",
															"        pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
															"    })\r",
															"});\r",
															"\r",
															"//MedicationStatements must reference a MedicationRequest within the basedOn attribute\r",
															"pm.test(\"GIVEN I send a request with an existing and valid patient ID for a medication statement, WHEN the response is returned, THEN the basedOn attribute must reference a medication request\", () => {\r",
															"    jsonData.entry.forEach((medicationStatement) => {\r",
															"        var ref = medicationStatement.resource.basedOn[0].reference\r",
															"        pm.expect(ref).to.exist\r",
															"        var startsWithMedicationRequest = ref.startsWith(\"MedicationRequest/\")\r",
															"        pm.expect(startsWithMedicationRequest).to.eql(true)\r",
															"    })\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationStatement",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationStatement"
													]
												},
												"description": "## Overview\n\nThis end point returns MedicationStatements relating to a patient, which show courses of medication prescribed to the patient.\n\nThese MedicationStatements must reference a MedicationRequest within the basedOn attribute: MedicationRequests provide details of specific prescriptions. The display within basedOn should quote the courseOfTherapyType from the referenced MedicationRequest, showing the prescription treatment type.\n\nThe referenced MedicationRequest must have intent set to plan.\n\nThe request must include the following parameter:\n\n* patient\n"
											},
											"response": []
										}
									]
								},
								{
									"name": "Error tests",
									"item": [
										{
											"name": "Error: No X-request-id - 400",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
															"    pm.response.to.have.status(400);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"BAD_REQUEST\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}",
														"disabled": true
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationStatement",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationStatement"
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Patient id letters - 400",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
															"    pm.response.to.have.status(400);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_NHS_NUMBER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/InvalidPatientId/MedicationStatement",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"InvalidPatientId",
														"MedicationStatement"
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Patient id too short - 400",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
															"    pm.response.to.have.status(400);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_NHS_NUMBER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/012345678/MedicationStatement",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"012345678",
														"MedicationStatement"
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Patient id does not match any on record - 404",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 404\", function () {\r",
															"    pm.response.to.have.status(404);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"PATIENT_NOT_FOUND\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/0123456789/MedicationStatement",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"0123456789",
														"MedicationStatement"
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Patient id wrong format - 400",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
															"    pm.response.to.have.status(400);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_NHS_NUMBER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/0123-456-789/MedicationStatement",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"0123-456-789",
														"MedicationStatement"
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Date wrong format - 422",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
															"    pm.response.to.have.status(422);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_PARAMETER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationStatement?effective=zz2010-10-22",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationStatement"
													],
													"query": [
														{
															"key": "effective",
															"value": "zz2010-10-22"
														}
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Date in future - 422",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
															"    pm.response.to.have.status(422);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_PARAMETER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationStatement?effective=eq2045-10-22",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationStatement"
													],
													"query": [
														{
															"key": "effective",
															"value": "eq2045-10-22"
														}
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										}
									]
								}
							]
						},
						{
							"name": "MedicationRequest",
							"item": [
								{
									"name": "Positive tests",
									"item": [
										{
											"name": "Get prescription issue details - Patient id",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I provide an existing valid medication request ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"//Verify the X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", () => {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify the X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", () => {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"// Verify content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"// Verify schema\r",
															"pm.test(\"GIVEN I send a request for a patient's history of medication requests, WHEN the response is returned, THEN the json response corresponds to the required schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"Bundle\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\",\r",
															"                \"format\": \"uuid\"\r",
															"            },\r",
															"            \"entry\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"resource\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"resourceType\": {\r",
															"                                    \"type\": \"string\",\r",
															"                                    \"const\": \"MedicationRequest\"\r",
															"                                },\r",
															"                                \"id\": {\r",
															"                                    \"type\": \"string\",\r",
															"                                    \"format\": \"uuid\"\r",
															"                                },\r",
															"                                \"meta\": {\r",
															"                                    \"type\": \"object\",\r",
															"                                    \"properties\": {\r",
															"                                        \"profile\": {\r",
															"                                            \"type\": \"array\",\r",
															"                                            \"minItems\": 1,\r",
															"                                            \"maxItems\": 1,\r",
															"                                            \"items\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-MedicationRequest\"\r",
															"                                            }\r",
															"                                        }\r",
															"                                    },\r",
															"                                    \"required\": [\"profile\"]\r",
															"                                },\r",
															"                                \"extension\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"url\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation\"\r",
															"                                            },\r",
															"                                            \"extension\": {\r",
															"                                                \"type\": \"array\",\r",
															"                                                \"items\": {\r",
															"                                                    \"properties\": {\r",
															"                                                        \"url\": {\r",
															"                                                            \"type\": \"string\",\r",
															"                                                        },\r",
															"                                                        \"valueUnsignedInt\": {\r",
															"                                                            \"type\": \"number\"\r",
															"                                                        },\r",
															"                                                        \"valueDateTime\": {\r",
															"                                                            \"type\": \"string\",\r",
															"                                                            \"format\": \"date-time\"\r",
															"                                                        }\r",
															"                                                    },\r",
															"                                                }\r",
															"                                            }\r",
															"                                        }\r",
															"                                    }\r",
															"                                },\r",
															"                                \"identifier\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"value\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"format\": \"uuid\"\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\"system\", \"value\"]\r",
															"                                    }\r",
															"                                },\r",
															"                                \"status\": {\r",
															"                                    \"type\": \"string\",\r",
															"                                    \"enum\": [\"active\", \"cancelled\", \"stopped\", \"completed\"]\r",
															"                                },\r",
															"                                \"statusReason\": {\r",
															"                                    \"type\": \"object\"\r",
															"                                },\r",
															"                                \"intent\": {\r",
															"                                    \"type\": \"string\",\r",
															"                                    \"enum\": [\"plan\", \"order\"]\r",
															"                                },\r",
															"                                \"category\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"items\": {\r",
															"                                        \"type\": \"object\",\r",
															"                                        \"properties\": {\r",
															"                                            \"coding\": {\r",
															"                                                \"type\": \"array\",\r",
															"                                                \"items\": {\r",
															"                                                    \"type\": \"object\",\r",
															"                                                    \"properties\": {\r",
															"                                                        \"code\": {\r",
															"                                                            \"type\": \"string\",\r",
															"                                                            \"const\": \"community\"\r",
															"                                                        }\r",
															"                                                    },\r",
															"                                                    \"required\": [\"code\"]\r",
															"                                                }\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\"coding\"]\r",
															"                                    }\r",
															"                                },\r",
															"                                \"medicationCodeableConcept\": {\r",
															"                                    \"properties\": {\r",
															"                                        \"coding\": {\r",
															"                                            \"type\": \"array\",\r",
															"                                            \"items\": {\r",
															"                                                \"type\": \"object\",\r",
															"                                                \"properties\": {\r",
															"                                                    \"system\": {\r",
															"                                                        \"type\": \"string\",\r",
															"                                                        \"const\": \"https://dmd.nhs.uk\"\r",
															"                                                    },\r",
															"                                                    \"code\": {\r",
															"                                                        \"type\": \"string\"\r",
															"                                                    },\r",
															"                                                    \"display\": {\r",
															"                                                        \"type\": \"string\"\r",
															"                                                    }\r",
															"                                                },\r",
															"                                                \"required\": [\"system\", \"code\", \"display\"]\r",
															"                                            }\r",
															"                                        }\r",
															"                                    },\r",
															"                                    \"required\": [\"coding\"]\r",
															"                                },\r",
															"                                \"subject\": {\r",
															"                                    \"type\": \"object\"\r",
															"                                },\r",
															"                                \"authoredOn\": {\r",
															"                                    \"type\": \"string\"\r",
															"                                },\r",
															"                                \"requester\": {\r",
															"                                    \"type\": \"object\"\r",
															"                                },\r",
															"                                \"basedOn\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"maxItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"reference\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\"reference\"]\r",
															"                                    }\r",
															"                                },\r",
															"                                \"groupIdentifier\": {\r",
															"                                    \"type\": \"object\",\r",
															"                                    \"properties\": {\r",
															"                                        \"system\": {\r",
															"                                            \"type\": \"string\",\r",
															"                                            \"const\": \"https://fhir.nhs.uk/Id/prescription-order-number\"\r",
															"                                        },\r",
															"                                        \"value\": {\r",
															"                                            \"type\": \"string\",\r",
															"                                        }\r",
															"                                    },\r",
															"                                    \"required\": [\"system\", \"value\"]\r",
															"                                },\r",
															"                                \"courseOfTherapyType\": {\r",
															"                                    \"type\": \"object\",\r",
															"                                    \"properties\": {\r",
															"                                        \"coding\": {\r",
															"                                            \"type\": \"array\",\r",
															"                                            \"items\": {\r",
															"                                                \"type\": \"object\",\r",
															"                                                \"properties\": {\r",
															"                                                    \"system\": {\r",
															"                                                        \"type\": \"string\",\r",
															"                                                        \"const\": \"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\"\r",
															"                                                    },\r",
															"                                                    \"code\": {\r",
															"                                                        \"type\": \"string\",\r",
															"                                                        \"enum\": [\"continuous\", \"acute\"]\r",
															"                                                    },\r",
															"                                                    \"display\": {\r",
															"                                                        \"type\": \"string\"\r",
															"                                                    }\r",
															"                                                },\r",
															"                                                \"if\": {\r",
															"                                                    \"properties\": {\r",
															"                                                        \"code\": {\r",
															"                                                            \"const\": \"continuous\"\r",
															"                                                        }\r",
															"                                                    }\r",
															"                                                },\r",
															"                                                \"then\": {\r",
															"                                                    \"properties\": {\r",
															"                                                        \"display\": {\r",
															"                                                            \"const\": \"Continuous long term therapy\"\r",
															"                                                        }\r",
															"                                                    }\r",
															"                                                },\r",
															"                                                \"else\": {\r",
															"                                                    \"properties\": {\r",
															"                                                        \"display\": {\r",
															"                                                            \"const\": \"Short course (acute) therapy\"\r",
															"                                                        }\r",
															"                                                    }\r",
															"\r",
															"                                                },\r",
															"                                                \"required\": [\"system\", \"code\", \"display\"]\r",
															"                                            }\r",
															"                                        }\r",
															"                                    },\r",
															"                                    \"required\": [\"coding\"]\r",
															"                                },\r",
															"                                \"dosageInstruction\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"text\": {\r",
															"                                                \"type\": \"string\"\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\"text\"]\r",
															"                                    }\r",
															"                                },\r",
															"                                \"substitution\": {\r",
															"                                    \"type\": \"object\",\r",
															"                                    \"properties\": {\r",
															"                                        \"allowedBoolean\": {\r",
															"                                            \"type\": \"boolean\",\r",
															"                                            \"const\": false\r",
															"                                        }\r",
															"                                    },\r",
															"                                },\r",
															"                                \"dispenseRequest\": {\r",
															"                                    \"type\": \"object\",\r",
															"                                    \"properties\": {\r",
															"                                        \"numberOfRepeatsAllowed\": {\r",
															"                                            \"type\": \"number\"\r",
															"                                        },\r",
															"                                        \"quantity\": {\r",
															"                                            \"type\": \"object\",\r",
															"                                            \"properties\": {\r",
															"                                                \"value\": {\r",
															"                                                    \"type\": \"number\"\r",
															"                                                },\r",
															"                                                \"unit\": {\r",
															"                                                    \"type\": \"string\"\r",
															"                                                },\r",
															"                                                \"system\": {\r",
															"                                                    \"type\": \"string\",\r",
															"                                                    \"const\": \"http://snomed.info/sct\"\r",
															"                                                },\r",
															"                                                \"code\": {\r",
															"                                                    \"type\": \"string\"\r",
															"                                                },\r",
															"                                            },\r",
															"                                            \"required\": [\r",
															"                                                \"value\",\r",
															"                                                \"unit\",\r",
															"                                                \"system\",\r",
															"                                                \"code\"\r",
															"                                            ]\r",
															"                                        },\r",
															"                                        \"expectedSupplyDuration\": {\r",
															"                                            \"type\": \"object\",\r",
															"                                            \"properties\": {\r",
															"                                                \"value\": {\r",
															"                                                    \"type\": \"number\"\r",
															"                                                },\r",
															"                                                \"unit\": {\r",
															"                                                    \"type\": \"string\"\r",
															"                                                },\r",
															"                                                \"system\": {\r",
															"                                                    \"type\": \"string\",\r",
															"                                                    \"const\": \"http://unitsofmeasure.org\"\r",
															"                                                },\r",
															"                                                \"code\": {\r",
															"                                                    \"type\": \"string\"\r",
															"                                                },\r",
															"                                            },\r",
															"                                            \"required\": [\r",
															"                                                \"value\",\r",
															"                                                \"unit\",\r",
															"                                                \"system\",\r",
															"                                                \"code\"\r",
															"                                            ]\r",
															"                                        },\r",
															"                                        \"performer\": {\r",
															"                                            \"type\": \"object\",\r",
															"                                            \"properties\": {\r",
															"                                                \"identifier\": {\r",
															"                                                    \"type\": \"object\",\r",
															"                                                    \"properties\": {\r",
															"                                                        \"system\": {\r",
															"                                                            \"type\": \"string\",\r",
															"                                                            \"const\": \"https://fhir.nhs.uk/Id/ods-organization-code\"\r",
															"                                                        },\r",
															"                                                        \"value\": {\r",
															"                                                            \"type\": \"string\"\r",
															"                                                        },\r",
															"                                                    },\r",
															"                                                    \"required\": [\r",
															"                                                        \"system\",\r",
															"                                                        \"value\"\r",
															"                                                    ]\r",
															"                                                },\r",
															"\r",
															"                                            },\r",
															"                                            \"required\": [\r",
															"                                                \"identifier\"\r",
															"                                            ]\r",
															"                                        },\r",
															"                                    },\r",
															"                                    \"required\": [\r",
															"                                        \"numberOfRepeatsAllowed\",\r",
															"                                        \"quantity\",\r",
															"                                        \"expectedSupplyDuration\",\r",
															"                                    ]\r",
															"                                }\r",
															"                            },\r",
															"                            \"required\": [\r",
															"                                \"resourceType\",\r",
															"                                \"id\",\r",
															"                                \"meta\",\r",
															"                                \"identifier\",\r",
															"                                \"status\",\r",
															"                                \"intent\",\r",
															"                                \"category\",\r",
															"                                \"medicationCodeableConcept\",\r",
															"                                \"subject\",\r",
															"                                \"authoredOn\",\r",
															"                                \"groupIdentifier\",\r",
															"                                \"courseOfTherapyType\",\r",
															"                                \"substitution\",\r",
															"                                \"dispenseRequest\"\r",
															"                            ]\r",
															"                        },\r",
															"                    },\r",
															"                    \"required\": [\"resource\"]\r",
															"                }\r",
															"            },\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"id\",\r",
															"            \"entry\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});\r",
															"\r",
															"var arrayOfMedicationRequests = jsonData.entry\r",
															"\r",
															"//returned medication requests are all for the patient specified in request url\r",
															"pm.test(\"GIVEN I send a request with an existing and valid patient ID, WHEN the response is returned, THEN the patient id in the response matches the id in the request\", () => {\r",
															"    arrayOfMedicationRequests.forEach((medicationRequest) => {\r",
															"        var patientId = pm.variables.get(\"PatientId\");\r",
															"        pm.expect(medicationRequest.resource.subject.identifier.value).to.eql(patientId);\r",
															"        var ref = medicationRequest.resource.subject.reference\r",
															"        pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
															"    })\r",
															"});\r",
															"\r",
															"//if therapy type of medication request is continuous or continuous repeat and intent = plan, then extension must be present\r",
															"pm.test(\"GIVEN I want to get an existing medication request AND therapy type is either continuous or continuous-repeat-dispensing, WHEN I send the request, THEN the response contains MedicationRequest.extension\", () => {\r",
															"    arrayOfMedicationRequests.forEach((medicationRequest) => {\r",
															"        if ((medicationRequest.resource.courseOfTherapyType.coding[0].code === \"continuous\" & medicationRequest.resource.intent === \"plan\") || (medicationRequest.resource.courseOfTherapyType.coding[0].code === \"continuous-repeat-dispensing\" & medicationRequest.resource.intent === \"plan\")) {\r",
															"            pm.expect(medicationRequest.resource).to.have.property(\"extension\")\r",
															"        }\r",
															"    })\r",
															"});\r",
															"\r",
															"//if intent = order, populate dispenseRequest.performer\r",
															"pm.test(\"GIVEN I want to get an existing medication request AND intent equals order, WHEN I send the request, THEN the response contains MedicationRequest.dispenseRequest.performer\", () => {\r",
															"    arrayOfMedicationRequests.forEach((medicationRequest) => {\r",
															"        if ( medicationRequest.resource.intent === \"order\") {\r",
															"            pm.expect(medicationRequest.resource.dispenseRequest).to.have.property(\"performer\")\r",
															"        }\r",
															"    })\r",
															"});\r",
															"\r",
															"//if intent = plan, dispenseRequest.performer should not exist\r",
															"pm.test(\"GIVEN I want to get an existing medication request AND intent equals plan, WHEN I send the request, THEN the response does not contain MedicationRequest.dispenseRequest.performer\", () => {\r",
															"    arrayOfMedicationRequests.forEach((medicationRequest) => {\r",
															"        if ( medicationRequest.resource.intent === \"plan\") {\r",
															"            pm.expect(medicationRequest.resource.dispenseRequest).not.to.have.property(\"performer\")\r",
															"        }\r",
															"    })\r",
															"});\r",
															"\r",
															"//if extension exists and intent = plan, authorisation expiry date should exist\r",
															"pm.test(\"GIVEN I want to get an existing medication request AND therapy type is either continuous or continuous-repeat-dispensing AND intent of the medication request = plan, WHEN I send the request, THEN the url value of one of the objects in the extension array is authorisationExpiryDate \", () => {\r",
															"    arrayOfMedicationRequests.forEach((medicationRequest) => {\r",
															"        if (medicationRequest.resource.hasOwnProperty(\"extension\")) {\r",
															"            if (medicationRequest.resource.intent === \"plan\") {\r",
															"                var extension = medicationRequest.resource.extension[0].extension\r",
															"                var authorisationExpiryDate = extension.some(extension => extension.url === \"authorisationExpiryDate\")\r",
															"                pm.expect(authorisationExpiryDate).to.eql(true)\r",
															"            }\r",
															"        }\r",
															"    })\r",
															"});\r",
															"\r",
															"//if extension exists and intent = order, authorisation expiry date should NOT exist\r",
															"pm.test(\"GIVEN I want to get an existing medication request AND therapy type is either continuous or continuous-repeat-dispensing AND intent of the medication request = order, WHEN I send the request, THEN no url value of one of the objects in the extension array is authorisationExpiryDate \", () => {\r",
															"    arrayOfMedicationRequests.forEach((medicationRequest) => {\r",
															"        if (medicationRequest.resource.hasOwnProperty(\"extension\")) {\r",
															"            if (medicationRequest.resource.intent === \"order\") {\r",
															"                var extension = medicationRequest.resource.extension[0].extension\r",
															"                var authorisationExpiryDate = extension.some(extension => extension.url === \"authorisationExpiryDate\")\r",
															"                pm.expect(authorisationExpiryDate).to.eql(false)\r",
															"            }\r",
															"        }\r",
															"    })\r",
															"});\r",
															"\r",
															"//if extension exists, number of repeat prescriptions should exist\r",
															"pm.test(\"GIVEN I want to get an existing medication request AND therapy type is either continuous or continuous-repeat-dispensing, WHEN I send the request, THEN the url value of one of the objects in the extension array = numberOfPrescriptionsIssued \", () => {\r",
															"    arrayOfMedicationRequests.forEach((medicationRequest) => {\r",
															"        if (medicationRequest.resource.hasOwnProperty(\"extension\")) {\r",
															"            var extension = medicationRequest.resource.extension[0].extension\r",
															"            var numberOfRepeatPrescriptionsIssued = extension.some(extension => extension.url === \"numberOfPrescriptionsIssued\")\r",
															"            pm.expect(numberOfRepeatPrescriptionsIssued).to.eql(true)\r",
															"        }\r",
															"    })\r",
															"});\r",
															"\r",
															"// BasedOn present and in correct format if intent = order\r",
															"pm.test(\"GIVEN I send a request with an existing and valid medication request ID, WHEN the response is returned, THEN the property BasedOn.reference exists AND it starts with 'MedicationRequest/'\", () => {\r",
															"    arrayOfMedicationRequests.forEach((medicationRequest) => {\r",
															"        if (medicationRequest.resource.intent === \"order\") {\r",
															"            pm.expect(medicationRequest.resource.basedOn[0].reference).to.exist\r",
															"            var startsWithMedicationRequest = medicationRequest.resource.basedOn[0].reference.startsWith(\"MedicationRequest/\")\r",
															"            pm.expect(startsWithMedicationRequest).to.eql(true)\r",
															"        }\r",
															"    })\r",
															"});\r",
															"\r",
															"// BasedOn not present if intent = plan\r",
															"pm.test(\"GIVEN I send a request with an existing and valid medication request ID, WHEN the response is returned, THEN the property BasedOn.reference does not exit\", () => {\r",
															"    arrayOfMedicationRequests.forEach((medicationRequest) => {\r",
															"        if (medicationRequest.resource.intent === \"plan\") {\r",
															"            pm.expect(medicationRequest.resource.basedOn).to.not.exist\r",
															"        }\r",
															"    })\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationRequest",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationRequest"
													]
												},
												"description": "Use this endpoint to get details of previous prescription issues.\nThe request must include the following parameter:\n\n* patient\n\nThe request can optionally include include one of following parameters:\n\n* authoredon\n"
											},
											"response": []
										}
									]
								},
								{
									"name": "Error tests",
									"item": [
										{
											"name": "Error: No X-request-id - 400",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
															"    pm.response.to.have.status(400);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"BAD_REQUEST\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}",
														"disabled": true
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationRequest",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationRequest"
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Patient id letters - 400",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
															"    pm.response.to.have.status(400);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_NHS_NUMBER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/InvalidPatientId/MedicationRequest",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"InvalidPatientId",
														"MedicationRequest"
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Patient id too short - 400",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
															"    pm.response.to.have.status(400);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_NHS_NUMBER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/012345678/MedicationRequest",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"012345678",
														"MedicationRequest"
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Patient id wrong format - 400",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
															"    pm.response.to.have.status(400);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_NHS_NUMBER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/0123-456-789/MedicationRequest",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"0123-456-789",
														"MedicationRequest"
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Patient id does not match any on record - 404",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 404\", function () {\r",
															"    pm.response.to.have.status(404);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"PATIENT_NOT_FOUND\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/0123456789/MedicationRequest",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"0123456789",
														"MedicationRequest"
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Date incorrect format, zz instead of eq - 422",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
															"    pm.response.to.have.status(422);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_PARAMETER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationRequest?authoredon=zz2010-10-22",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationRequest"
													],
													"query": [
														{
															"key": "authoredon",
															"value": "zz2010-10-22"
														}
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Date incorrect format, authored-on instead of authoredon - 422",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
															"    pm.response.to.have.status(422);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_PARAMETER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationRequest?authored-on=eq2010-10-22",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationRequest"
													],
													"query": [
														{
															"key": "authored-on",
															"value": "eq2010-10-22"
														}
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Date in future - 422",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
															"    pm.response.to.have.status(422);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_PARAMETER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationRequest?authoredon=2045-10-22",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationRequest"
													],
													"query": [
														{
															"key": "authoredon",
															"value": "2045-10-22"
														}
													]
												},
												"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
											},
											"response": []
										},
										{
											"name": "Error: Identifier used with wrong system address - 422",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
															"    pm.response.to.have.status(422);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_PARAMETER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationRequest?identifier=https%3A%2F%2Ffhir.nhs.uk%2FId%2Fprescription-order-number%{{$guid}}",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationRequest"
													],
													"query": [
														{
															"key": "identifier",
															"value": "https%3A%2F%2Ffhir.nhs.uk%2FId%2Fprescription-order-number%{{$guid}}"
														}
													]
												},
												"description": "Use this endpoint to get details of previous prescription issues.\nThe request must include the following parameter:\n\n* patient\n\nThe request can optionally include include one of following parameters:\n\n* authoredon\n"
											},
											"response": []
										},
										{
											"name": "Error: Identifier used with incorrect uuid format - 422",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
															"    pm.response.to.have.status(422);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_PARAMETER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationRequest?identifier=https%3A%2F%2Ffhir.nhs.uk%2FId%2Fprescription-order-item-number%7CCDT38E-Y765968-4FG3BQ",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationRequest"
													],
													"query": [
														{
															"key": "identifier",
															"value": "https%3A%2F%2Ffhir.nhs.uk%2FId%2Fprescription-order-item-number%7CCDT38E-Y765968-4FG3BQ"
														}
													]
												},
												"description": "Use this endpoint to get details of previous prescription issues.\nThe request must include the following parameter:\n\n* patient\n\nThe request can optionally include include one of following parameters:\n\n* authoredon\n"
											},
											"response": []
										},
										{
											"name": "Error: groupIdentifier used instead of identifier - 422",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
															"    pm.response.to.have.status(422);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_PARAMETER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationRequest?groupIdentifier=https%3A%2F%2Ffhir.nhs.uk%2FId%2Fprescription-order-number%7CCDT38E-Y765968-4FG3BQ",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationRequest"
													],
													"query": [
														{
															"key": "groupIdentifier",
															"value": "https%3A%2F%2Ffhir.nhs.uk%2FId%2Fprescription-order-number%7CCDT38E-Y765968-4FG3BQ"
														}
													]
												},
												"description": "Use this endpoint to get details of previous prescription issues.\nThe request must include the following parameter:\n\n* patient\n\nThe request can optionally include include one of following parameters:\n\n* authoredon\n"
											},
											"response": []
										},
										{
											"name": "Error: Intent is not plan or order - 422",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
															"    pm.response.to.have.status(422);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_PARAMETER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationRequest?intent=invalidIntent",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationRequest"
													],
													"query": [
														{
															"key": "intent",
															"value": "invalidIntent"
														}
													]
												},
												"description": "Use this endpoint to get details of previous prescription issues.\nThe request must include the following parameter:\n\n* patient\n\nThe request can optionally include include one of following parameters:\n\n* authoredon\n"
											},
											"response": []
										},
										{
											"name": "Error: Status is not a valid status - 422",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = pm.response.json();\r",
															"\r",
															"//Verify the response status code\r",
															"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
															"    pm.response.to.have.status(422);\r",
															"});\r",
															"\r",
															"//Verify response header X-Correlation-ID\r",
															"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
															"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
															"});\r",
															"\r",
															"//Verify response header X-Request-ID\r",
															"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
															"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
															"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
															"});\r",
															"\r",
															"//Verify response header content-type\r",
															"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
															"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
															"});\r",
															"\r",
															"//Verify response schema\r",
															"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
															"    var schema = {\r",
															"        \"type\": \"object\",\r",
															"        \"properties\": {\r",
															"            \"resourceType\": {\r",
															"                \"type\": \"string\",\r",
															"                \"const\": \"OperationOutcome\"\r",
															"            },\r",
															"            \"id\": {\r",
															"                \"type\": \"string\"\r",
															"            },\r",
															"            \"meta\": {\r",
															"                \"type\": \"object\",\r",
															"                \"properties\": {\r",
															"                    \"profile\": {\r",
															"                        \"type\": \"array\",\r",
															"                        \"minItems\": 1,\r",
															"                        \"maxItems\": 1,\r",
															"                        \"items\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\"profile\"]\r",
															"            },\r",
															"            \"issue\": {\r",
															"                \"type\": \"array\",\r",
															"                \"items\": {\r",
															"                    \"properties\": {\r",
															"                        \"id\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"severity\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"fatal\",\r",
															"                                \"error\",\r",
															"                                \"warning\",\r",
															"                                \"information\"\r",
															"                            ]\r",
															"                        },\r",
															"                        \"code\": {\r",
															"                            \"type\": \"string\",\r",
															"                            \"enum\": [\r",
															"                                \"invalid\",\r",
															"                                \"structure\",\r",
															"                                \"required\",\r",
															"                                \"value\",\r",
															"                                \"invariant\",\r",
															"                                \"security\",\r",
															"                                \"login\",\r",
															"                                \"unknown\",\r",
															"                                \"expired\",\r",
															"                                \"forbidden\",\r",
															"                                \"suppressed\",\r",
															"                                \"processing\",\r",
															"                                \"not-supported\",\r",
															"                                \"duplicate\",\r",
															"                                \"not-found\",\r",
															"                                \"too-long\",\r",
															"                                \"code-invalid\",\r",
															"                                \"extension\",\r",
															"                                \"too-costly\",\r",
															"                                \"business-rule\",\r",
															"                                \"conflict\",\r",
															"                                \"incomplete\",\r",
															"                                \"transient\",\r",
															"                                \"lock-error\",\r",
															"                                \"no-store\",\r",
															"                                \"exception\",\r",
															"                                \"timeout\",\r",
															"                                \"throttled\",\r",
															"                                \"informational\",\r",
															"                            ]\r",
															"                        },\r",
															"                        \"details\": {\r",
															"                            \"type\": \"object\",\r",
															"                            \"properties\": {\r",
															"                                \"coding\": {\r",
															"                                    \"type\": \"array\",\r",
															"                                    \"minItems\": 1,\r",
															"                                    \"items\": {\r",
															"                                        \"properties\": {\r",
															"                                            \"system\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            },\r",
															"                                            \"code\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                                \"const\" : \"INVALID_PARAMETER\",\r",
															"                                            },\r",
															"                                            \"display\": {\r",
															"                                                \"type\": \"string\",\r",
															"                                            }\r",
															"                                        },\r",
															"                                        \"required\": [\r",
															"                                            \"system\",\r",
															"                                            \"code\",\r",
															"                                            \"display\"\r",
															"                                        ]\r",
															"                                    }\r",
															"                                }\r",
															"                            }\r",
															"                        },\r",
															"                        \"diagnostics\": {\r",
															"                            \"type\": \"string\"\r",
															"                        },\r",
															"                        \"expression\": {\r",
															"                            \"type\": \"string\"\r",
															"                        }\r",
															"                    }\r",
															"                },\r",
															"                \"required\": [\r",
															"                    \"severity\",\r",
															"                    \"code\",\r",
															"                ]\r",
															"            }\r",
															"        },\r",
															"        \"required\": [\r",
															"            \"resourceType\",\r",
															"            \"meta\",\r",
															"            \"issue\"\r",
															"        ]\r",
															"    }\r",
															"    pm.response.to.have.jsonSchema(schema);\r",
															"});"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
														"key": "X-Correlation-ID",
														"value": "{{X-Correlation-ID}}"
													},
													{
														"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
														"key": "X-Request-ID",
														"value": "{{X-Request-ID}}"
													},
													{
														"key": "Accept",
														"value": "application/fhir+json"
													}
												],
												"url": {
													"raw": "{{baseUrl}}/Patient/{{PatientId}}/MedicationRequest?status=invalidStatus",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"Patient",
														"{{PatientId}}",
														"MedicationRequest"
													],
													"query": [
														{
															"key": "status",
															"value": "invalidStatus"
														}
													]
												},
												"description": "Use this endpoint to get details of previous prescription issues.\nThe request must include the following parameter:\n\n* patient\n\nThe request can optionally include include one of following parameters:\n\n* authoredon\n"
											},
											"response": []
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Task",
			"item": [
				{
					"name": "Positive tests",
					"item": [
						{
							"name": "Request a repeat prescription",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.collectionVariables.set('taskIdPrescription', jsonData.id)\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"//Verify the X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", () => {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify the X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", () => {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"// Verify content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"// Verify schema\r",
											"pm.test(\"GIVEN I send a practitioner role request, WHEN the response is returned, THEN the json response corresponds to the required practitioner role schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"Task\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"uuid\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"profile\"\r",
											"                ]\r",
											"            },\r",
											"            \"identifier\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"system\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"value\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"format\": \"uuid\"\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\r",
											"                        \"value\"\r",
											"                    ]\r",
											"                }\r",
											"            },\r",
											"            \"status\": {\r",
											"                \"type\": \"string\",\r",
											"                \"enum\": [\r",
											"                    \"requested\",\r",
											"                    \"accepted\",\r",
											"                    \"rejected\",\r",
											"                    \"cancelled\",\r",
											"                    \"in-progress\",\r",
											"                    \"completed\",\r",
											"                    \"failed\"\r",
											"                ]\r",
											"            },\r",
											"            \"statusReason\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"text\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"text\"\r",
											"                ]\r",
											"            },\r",
											"            \"intent\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"order\"\r",
											"            },\r",
											"            \"code\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"coding\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"http://snomed.info/sct\"\r",
											"                                },\r",
											"                                \"code\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"103742009\"\r",
											"                                },\r",
											"                                \"display\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"Renewal of prescription\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"system\",\r",
											"                                \"code\",\r",
											"                                \"display\"\r",
											"                            ]\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"coding\"\r",
											"                ]\r",
											"            },\r",
											"            \"focus\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"for\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"authoredOn\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"date-time\"\r",
											"            },\r",
											"            \"lastModified\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"date-time\"\r",
											"            },\r",
											"            \"requester\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"note\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"text\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\"text\"]\r",
											"                }\r",
											"            },\r",
											"            \"input\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"type\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"preferred-performer\"\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"Preferred performer\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"code\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"coding\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"valueIdentifier\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"https://fhir.nhs.uk/Id/ods-organization-code\"\r",
											"                                },\r",
											"                                \"value\": {\r",
											"                                    \"type\": \"string\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"value\"\r",
											"                            ]\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"type\", \"valueIdentifier\"]\r",
											"            },\r",
											"            \"output\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"type\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"sent-to-eps\"\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"Sent to EPS\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\", \"code\", \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"coding\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"valueIdentifier\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\"\r",
											"                                },\r",
											"                                \"value\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"uuid\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"value\"\r",
											"                            ]\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\"type\", \"valueIdentifier\"]\r",
											"                },\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"id\",\r",
											"            \"meta\",\r",
											"            \"identifier\",\r",
											"            \"status\",\r",
											"            \"intent\",\r",
											"            \"code\",\r",
											"            \"focus\",\r",
											"            \"for\",\r",
											"            \"authoredOn\",\r",
											"            \"requester\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});\r",
											"\r",
											"//Verify that focus.reference points to a MedicationRequest\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN focus.reference should contain/point towards MedicationRequest\", () => {\r",
											"    var ref = jsonData.focus.reference\r",
											"    pm.expect(ref.includes(\"MedicationRequest/\")).to.eql(true)\r",
											"\r",
											"});\r",
											"\r",
											"//Verify that for.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN for.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    var patientId = pm.variables.get(\"PatientId\");\r",
											"    var ref = jsonData.for.reference\r",
											"    pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"});\r",
											"\r",
											"//Verify that requester.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN requester.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    var patientId = pm.variables.get(\"PatientId\");\r",
											"    var ref = jsonData.requester.reference\r",
											"    pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Request a repeat prescription & new pharmacy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.collectionVariables.set('taskIdPrescription&Pharmacy', jsonData.id)\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"//Verify the X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", () => {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify the X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", () => {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"// Verify content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"// Verify schema\r",
											"pm.test(\"GIVEN I send a practitioner role request, WHEN the response is returned, THEN the json response corresponds to the required practitioner role schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"Task\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"uuid\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"profile\"\r",
											"                ]\r",
											"            },\r",
											"            \"identifier\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"system\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"value\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"format\": \"uuid\"\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\r",
											"                        \"value\"\r",
											"                    ]\r",
											"                }\r",
											"            },\r",
											"            \"status\": {\r",
											"                \"type\": \"string\",\r",
											"                \"enum\": [\r",
											"                    \"requested\",\r",
											"                    \"accepted\",\r",
											"                    \"rejected\",\r",
											"                    \"cancelled\",\r",
											"                    \"in-progress\",\r",
											"                    \"completed\",\r",
											"                    \"failed\"\r",
											"                ]\r",
											"            },\r",
											"            \"statusReason\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"text\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"text\"\r",
											"                ]\r",
											"            },\r",
											"            \"intent\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"order\"\r",
											"            },\r",
											"            \"code\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"coding\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"http://snomed.info/sct\"\r",
											"                                },\r",
											"                                \"code\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"103742009\"\r",
											"                                },\r",
											"                                \"display\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"Renewal of prescription\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"system\",\r",
											"                                \"code\",\r",
											"                                \"display\"\r",
											"                            ]\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"coding\"\r",
											"                ]\r",
											"            },\r",
											"            \"focus\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"for\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"authoredOn\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"date-time\"\r",
											"            },\r",
											"            \"lastModified\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"date-time\"\r",
											"            },\r",
											"            \"requester\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"note\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"text\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\"text\"]\r",
											"                }\r",
											"            },\r",
											"            \"input\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"type\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"preferred-performer\"\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"Preferred performer\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"code\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"coding\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"valueIdentifier\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"https://fhir.nhs.uk/Id/ods-organization-code\"\r",
											"                                },\r",
											"                                \"value\": {\r",
											"                                    \"type\": \"string\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"value\"\r",
											"                            ]\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"type\", \"valueIdentifier\"]\r",
											"            },\r",
											"            \"output\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"type\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"sent-to-eps\"\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"Sent to EPS\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\", \"code\", \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"coding\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"valueIdentifier\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\"\r",
											"                                },\r",
											"                                \"value\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"uuid\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"value\"\r",
											"                            ]\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\"type\", \"valueIdentifier\"]\r",
											"                },\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"id\",\r",
											"            \"meta\",\r",
											"            \"identifier\",\r",
											"            \"status\",\r",
											"            \"intent\",\r",
											"            \"code\",\r",
											"            \"focus\",\r",
											"            \"for\",\r",
											"            \"authoredOn\",\r",
											"            \"requester\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});\r",
											"\r",
											"//Verify that focus.reference points to a MedicationRequest\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN focus.reference should contain/point towards MedicationRequest\", () => {\r",
											"    var ref = jsonData.focus.reference\r",
											"    pm.expect(ref.includes(\"MedicationRequest/\")).to.eql(true)\r",
											"\r",
											"});\r",
											"\r",
											"//Verify that for.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN for.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    var patientId = pm.variables.get(\"PatientId\");\r",
											"    var ref = jsonData.for.reference\r",
											"    pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"});\r",
											"\r",
											"//Verify that requester.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN requester.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    var patientId = pm.variables.get(\"PatientId\");\r",
											"    var ref = jsonData.requester.reference\r",
											"    pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"Joe Bloggs\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"Joe Bloggs\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ],\r\n  \"input\": [\r\n    {\r\n      \"type\": {\r\n        \"coding\": [\r\n          {\r\n            \"system\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\",\r\n            \"code\": \"preferred-performer\",\r\n            \"display\": \"Preferred performer\"\r\n          }\r\n        ]\r\n      },\r\n      \"valueIdentifier\": {\r\n        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n        \"value\": \"{{PharmacyCode}}\"\r\n      }\r\n    }\r\n  ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Get requested prescription reorders: patient id",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", () => {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", () => {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a task request, WHEN the response is returned, THEN the json response corresponds to the required task schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"Bundle\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"uuid\"\r",
											"            },\r",
											"            \"entry\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"resource\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"resourceType\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"Task\"\r",
											"                                },\r",
											"                                \"id\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"uuid\"\r",
											"                                },\r",
											"                                \"meta\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"profile\": {\r",
											"                                            \"type\": \"array\",\r",
											"                                            \"minItems\": 1,\r",
											"                                            \"maxItems\": 1,\r",
											"                                            \"items\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r",
											"                                            }\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"profile\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"identifier\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\"\r",
											"                                            },\r",
											"                                            \"value\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"format\": \"uuid\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"value\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                },\r",
											"                                \"status\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"enum\": [\r",
											"                                        \"requested\",\r",
											"                                        \"accepted\",\r",
											"                                        \"rejected\",\r",
											"                                        \"cancelled\",\r",
											"                                        \"in-progress\",\r",
											"                                        \"completed\",\r",
											"                                        \"failed\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"statusReason\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"text\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"text\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"intent\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"order\"\r",
											"                                },\r",
											"                                \"code\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"coding\": {\r",
											"                                            \"type\": \"array\",\r",
											"                                            \"minItems\": 1,\r",
											"                                            \"maxItems\": 1,\r",
											"                                            \"items\": {\r",
											"                                                \"properties\": {\r",
											"                                                    \"system\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"http://snomed.info/sct\"\r",
											"                                                    },\r",
											"                                                    \"code\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"103742009\"\r",
											"                                                    },\r",
											"                                                    \"display\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"Renewal of prescription\"\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"system\",\r",
											"                                                    \"code\",\r",
											"                                                    \"display\"\r",
											"                                                ]\r",
											"                                            }\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"coding\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"focus\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"reference\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"reference\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"for\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"reference\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"reference\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"authoredOn\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"date-time\"\r",
											"                                },\r",
											"                                \"lastModified\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"date-time\"\r",
											"                                },\r",
											"                                \"requester\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"reference\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"reference\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"note\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"text\": {\r",
											"                                                \"type\": \"string\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\"text\"]\r",
											"                                    }\r",
											"                                },\r",
											"                                \"input\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"type\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"coding\": {\r",
											"                                                        \"type\": \"array\",\r",
											"                                                        \"items\": {\r",
											"                                                            \"properties\": {\r",
											"                                                                \"system\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                                                },\r",
											"                                                                \"code\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"preferred-performer\"\r",
											"                                                                },\r",
											"                                                                \"display\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"Preferred performer\"\r",
											"                                                                }\r",
											"                                                            },\r",
											"                                                            \"required\": [\r",
											"                                                                \"code\"\r",
											"                                                            ]\r",
											"                                                        }\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"coding\"\r",
											"                                                ]\r",
											"                                            },\r",
											"                                            \"valueIdentifier\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"system\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"https://fhir.nhs.uk/Id/ods-organization-code\"\r",
											"                                                    },\r",
											"                                                    \"value\": {\r",
											"                                                        \"type\": \"string\"\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"value\"\r",
											"                                                ]\r",
											"                                            }\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\"type\", \"valueIdentifier\"]\r",
											"                                },\r",
											"                                \"output\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"type\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"coding\": {\r",
											"                                                        \"type\": \"array\",\r",
											"                                                        \"items\": {\r",
											"                                                            \"properties\": {\r",
											"                                                                \"system\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                                                },\r",
											"                                                                \"code\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"sent-to-eps\"\r",
											"                                                                },\r",
											"                                                                \"display\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"Sent to EPS\"\r",
											"                                                                }\r",
											"                                                            },\r",
											"                                                            \"required\": [\r",
											"                                                                \"system\", \"code\", \"display\"\r",
											"                                                            ]\r",
											"                                                        }\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"coding\"\r",
											"                                                ]\r",
											"                                            },\r",
											"                                            \"valueIdentifier\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"system\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\"\r",
											"                                                    },\r",
											"                                                    \"value\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"format\": \"uuid\"\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"value\"\r",
											"                                                ]\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\"type\", \"valueIdentifier\"]\r",
											"                                    },\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"resourceType\",\r",
											"                                \"id\",\r",
											"                                \"meta\",\r",
											"                                \"identifier\",\r",
											"                                \"status\",\r",
											"                                \"intent\",\r",
											"                                \"code\",\r",
											"                                \"focus\",\r",
											"                                \"for\",\r",
											"                                \"authoredOn\",\r",
											"                                \"requester\"\r",
											"                            ]\r",
											"                        },\r",
											"                    },\r",
											"                    \"required\": [\r",
											"                        \"resource\"\r",
											"                    ]\r",
											"                }\r",
											"            },\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"id\",\r",
											"            \"entry\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});\r",
											"\r",
											"var arrayTasks = jsonData.entry\r",
											"//Verify that focus.reference points to a MedicationRequest\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN focus.reference should contain/point towards MedicationRequest\", () => {\r",
											"    arrayTasks.forEach((task) => {\r",
											"        var ref = task.resource.focus.reference\r",
											"        pm.expect(ref.includes(\"MedicationRequest/\")).to.eql(true)\r",
											"    })\r",
											"});\r",
											"\r",
											"//Verify that for.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN for.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    arrayTasks.forEach((task) => {\r",
											"        var patientId = pm.variables.get(\"PatientId\");\r",
											"        var ref = task.resource.for.reference\r",
											"        pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"    })\r",
											"});\r",
											"\r",
											"//Verify that requester.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN requester.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    arrayTasks.forEach((task) => {\r",
											"        var patientId = pm.variables.get(\"PatientId\");\r",
											"        var ref = task.resource.requester.reference\r",
											"        pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"    })\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?patient={{PatientId}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "patient",
											"value": "{{PatientId}}",
											"description": "The NHS number of the patient whose requests you are searching for\n"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Get requested prescription reorders: task id",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", () => {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", () => {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a task request, WHEN the response is returned, THEN the json response corresponds to the required task schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"Bundle\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"uuid\"\r",
											"            },\r",
											"            \"entry\": {\r",
											"                \"type\": \"array\",\r",
											"                \"maxItems\": 1,\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"resource\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"resourceType\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"Task\"\r",
											"                                },\r",
											"                                \"id\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"uuid\"\r",
											"                                },\r",
											"                                \"meta\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"profile\": {\r",
											"                                            \"type\": \"array\",\r",
											"                                            \"minItems\": 1,\r",
											"                                            \"maxItems\": 1,\r",
											"                                            \"items\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r",
											"                                            }\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"profile\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"identifier\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\"\r",
											"                                            },\r",
											"                                            \"value\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"format\": \"uuid\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"value\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                },\r",
											"                                \"status\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"enum\": [\r",
											"                                        \"requested\",\r",
											"                                        \"accepted\",\r",
											"                                        \"rejected\",\r",
											"                                        \"cancelled\",\r",
											"                                        \"in-progress\",\r",
											"                                        \"completed\",\r",
											"                                        \"failed\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"statusReason\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"text\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"text\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"intent\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"order\"\r",
											"                                },\r",
											"                                \"code\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"coding\": {\r",
											"                                            \"type\": \"array\",\r",
											"                                            \"minItems\": 1,\r",
											"                                            \"maxItems\": 1,\r",
											"                                            \"items\": {\r",
											"                                                \"properties\": {\r",
											"                                                    \"system\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"http://snomed.info/sct\"\r",
											"                                                    },\r",
											"                                                    \"code\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"103742009\"\r",
											"                                                    },\r",
											"                                                    \"display\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"Renewal of prescription\"\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"system\",\r",
											"                                                    \"code\",\r",
											"                                                    \"display\"\r",
											"                                                ]\r",
											"                                            }\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"coding\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"focus\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"reference\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"reference\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"for\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"reference\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"reference\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"authoredOn\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"date-time\"\r",
											"                                },\r",
											"                                \"lastModified\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"date-time\"\r",
											"                                },\r",
											"                                \"requester\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"reference\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"reference\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"note\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"text\": {\r",
											"                                                \"type\": \"string\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\"text\"]\r",
											"                                    }\r",
											"                                },\r",
											"                                \"input\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"type\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"coding\": {\r",
											"                                                        \"type\": \"array\",\r",
											"                                                        \"items\": {\r",
											"                                                            \"properties\": {\r",
											"                                                                \"system\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                                                },\r",
											"                                                                \"code\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"preferred-performer\"\r",
											"                                                                },\r",
											"                                                                \"display\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"Preferred performer\"\r",
											"                                                                }\r",
											"                                                            },\r",
											"                                                            \"required\": [\r",
											"                                                                \"code\"\r",
											"                                                            ]\r",
											"                                                        }\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"coding\"\r",
											"                                                ]\r",
											"                                            },\r",
											"                                            \"valueIdentifier\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"system\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"https://fhir.nhs.uk/Id/ods-organization-code\"\r",
											"                                                    },\r",
											"                                                    \"value\": {\r",
											"                                                        \"type\": \"string\"\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"value\"\r",
											"                                                ]\r",
											"                                            }\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\"type\", \"valueIdentifier\"]\r",
											"                                },\r",
											"                                \"output\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"type\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"coding\": {\r",
											"                                                        \"type\": \"array\",\r",
											"                                                        \"items\": {\r",
											"                                                            \"properties\": {\r",
											"                                                                \"system\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                                                },\r",
											"                                                                \"code\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"sent-to-eps\"\r",
											"                                                                },\r",
											"                                                                \"display\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"Sent to EPS\"\r",
											"                                                                }\r",
											"                                                            },\r",
											"                                                            \"required\": [\r",
											"                                                                \"system\", \"code\", \"display\"\r",
											"                                                            ]\r",
											"                                                        }\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"coding\"\r",
											"                                                ]\r",
											"                                            },\r",
											"                                            \"valueIdentifier\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"system\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\"\r",
											"                                                    },\r",
											"                                                    \"value\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"format\": \"uuid\"\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"value\"\r",
											"                                                ]\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\"type\", \"valueIdentifier\"]\r",
											"                                    },\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"resourceType\",\r",
											"                                \"id\",\r",
											"                                \"meta\",\r",
											"                                \"identifier\",\r",
											"                                \"status\",\r",
											"                                \"intent\",\r",
											"                                \"code\",\r",
											"                                \"focus\",\r",
											"                                \"for\",\r",
											"                                \"authoredOn\",\r",
											"                                \"requester\"\r",
											"                            ]\r",
											"                        },\r",
											"                    },\r",
											"                    \"required\": [\r",
											"                        \"resource\"\r",
											"                    ]\r",
											"                }\r",
											"            },\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"id\",\r",
											"            \"entry\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});\r",
											"\r",
											"var arrayTasks = jsonData.entry\r",
											"\r",
											"//Verify that task id in request matches id in response\r",
											"pm.test(\"GIVEN I send a request for a task, WHEN the response is returned, THEN the task id returned should match the task id in the response\", () => {\r",
											"    arrayTasks.forEach((task) => {\r",
											"        var requestTaskId = pm.variables.get(\"TaskId\");\r",
											"        var responseTaskId = task.resource.id\r",
											"        pm.expect(requestTaskId).to.eql(responseTaskId)\r",
											"    })\r",
											"});\r",
											"\r",
											"//Verify that focus.reference points to a MedicationRequest\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN focus.reference should contain/point towards MedicationRequest\", () => {\r",
											"    arrayTasks.forEach((task) => {\r",
											"        var ref = task.resource.focus.reference\r",
											"        pm.expect(ref.includes(\"MedicationRequest/\")).to.eql(true)\r",
											"    })\r",
											"});\r",
											"\r",
											"//Verify that for.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN for.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    arrayTasks.forEach((task) => {\r",
											"        var patientId = pm.variables.get(\"PatientId\");\r",
											"        var ref = task.resource.for.reference\r",
											"        pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"    })\r",
											"});\r",
											"\r",
											"//Verify that requester.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN requester.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    arrayTasks.forEach((task) => {\r",
											"        var patientId = pm.variables.get(\"PatientId\");\r",
											"        var ref = task.resource.requester.reference\r",
											"        pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"    })\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?id={{taskIdPrescription}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{taskIdPrescription}}"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Get requested prescription reorders: Task:focus:MedicationRequest",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", () => {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", () => {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a task request, WHEN the response is returned, THEN the json response corresponds to the required task schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"Bundle\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"uuid\"\r",
											"            },\r",
											"            \"entry\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"resource\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"resourceType\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"Task\"\r",
											"                                },\r",
											"                                \"id\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"uuid\"\r",
											"                                },\r",
											"                                \"meta\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"profile\": {\r",
											"                                            \"type\": \"array\",\r",
											"                                            \"minItems\": 1,\r",
											"                                            \"maxItems\": 1,\r",
											"                                            \"items\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r",
											"                                            }\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"profile\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"identifier\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\"\r",
											"                                            },\r",
											"                                            \"value\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"format\": \"uuid\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"value\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                },\r",
											"                                \"status\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"enum\": [\r",
											"                                        \"requested\",\r",
											"                                        \"accepted\",\r",
											"                                        \"rejected\",\r",
											"                                        \"cancelled\",\r",
											"                                        \"in-progress\",\r",
											"                                        \"completed\",\r",
											"                                        \"failed\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"statusReason\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"text\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"text\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"intent\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"order\"\r",
											"                                },\r",
											"                                \"code\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"coding\": {\r",
											"                                            \"type\": \"array\",\r",
											"                                            \"minItems\": 1,\r",
											"                                            \"maxItems\": 1,\r",
											"                                            \"items\": {\r",
											"                                                \"properties\": {\r",
											"                                                    \"system\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"http://snomed.info/sct\"\r",
											"                                                    },\r",
											"                                                    \"code\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"103742009\"\r",
											"                                                    },\r",
											"                                                    \"display\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"Renewal of prescription\"\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"system\",\r",
											"                                                    \"code\",\r",
											"                                                    \"display\"\r",
											"                                                ]\r",
											"                                            }\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"coding\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"focus\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"reference\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"reference\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"for\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"reference\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"reference\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"authoredOn\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"date-time\"\r",
											"                                },\r",
											"                                \"lastModified\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"date-time\"\r",
											"                                },\r",
											"                                \"requester\": {\r",
											"                                    \"type\": \"object\",\r",
											"                                    \"properties\": {\r",
											"                                        \"reference\": {\r",
											"                                            \"type\": \"string\"\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\r",
											"                                        \"reference\"\r",
											"                                    ]\r",
											"                                },\r",
											"                                \"note\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"text\": {\r",
											"                                                \"type\": \"string\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\"text\"]\r",
											"                                    }\r",
											"                                },\r",
											"                                \"input\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"type\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"coding\": {\r",
											"                                                        \"type\": \"array\",\r",
											"                                                        \"items\": {\r",
											"                                                            \"properties\": {\r",
											"                                                                \"system\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                                                },\r",
											"                                                                \"code\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"preferred-performer\"\r",
											"                                                                },\r",
											"                                                                \"display\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"Preferred performer\"\r",
											"                                                                }\r",
											"                                                            },\r",
											"                                                            \"required\": [\r",
											"                                                                \"code\"\r",
											"                                                            ]\r",
											"                                                        }\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"coding\"\r",
											"                                                ]\r",
											"                                            },\r",
											"                                            \"valueIdentifier\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"system\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"https://fhir.nhs.uk/Id/ods-organization-code\"\r",
											"                                                    },\r",
											"                                                    \"value\": {\r",
											"                                                        \"type\": \"string\"\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"value\"\r",
											"                                                ]\r",
											"                                            }\r",
											"                                        }\r",
											"                                    },\r",
											"                                    \"required\": [\"type\", \"valueIdentifier\"]\r",
											"                                },\r",
											"                                \"output\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"type\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"coding\": {\r",
											"                                                        \"type\": \"array\",\r",
											"                                                        \"items\": {\r",
											"                                                            \"properties\": {\r",
											"                                                                \"system\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                                                },\r",
											"                                                                \"code\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"sent-to-eps\"\r",
											"                                                                },\r",
											"                                                                \"display\": {\r",
											"                                                                    \"type\": \"string\",\r",
											"                                                                    \"const\": \"Sent to EPS\"\r",
											"                                                                }\r",
											"                                                            },\r",
											"                                                            \"required\": [\r",
											"                                                                \"system\", \"code\", \"display\"\r",
											"                                                            ]\r",
											"                                                        }\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"coding\"\r",
											"                                                ]\r",
											"                                            },\r",
											"                                            \"valueIdentifier\": {\r",
											"                                                \"type\": \"object\",\r",
											"                                                \"properties\": {\r",
											"                                                    \"system\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"const\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\"\r",
											"                                                    },\r",
											"                                                    \"value\": {\r",
											"                                                        \"type\": \"string\",\r",
											"                                                        \"format\": \"uuid\"\r",
											"                                                    }\r",
											"                                                },\r",
											"                                                \"required\": [\r",
											"                                                    \"value\"\r",
											"                                                ]\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\"type\", \"valueIdentifier\"]\r",
											"                                    },\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"resourceType\",\r",
											"                                \"id\",\r",
											"                                \"meta\",\r",
											"                                \"identifier\",\r",
											"                                \"status\",\r",
											"                                \"intent\",\r",
											"                                \"code\",\r",
											"                                \"focus\",\r",
											"                                \"for\",\r",
											"                                \"authoredOn\",\r",
											"                                \"requester\"\r",
											"                            ]\r",
											"                        },\r",
											"                    },\r",
											"                    \"required\": [\r",
											"                        \"resource\"\r",
											"                    ]\r",
											"                }\r",
											"            },\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"id\",\r",
											"            \"entry\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});\r",
											"\r",
											"var arrayTasks = jsonData.entry\r",
											"//Verify that focus.reference points to a MedicationRequest\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN focus.reference should contain/point towards MedicationRequest\", () => {\r",
											"    arrayTasks.forEach((task) => {\r",
											"        var ref = task.resource.focus.reference\r",
											"        pm.expect(ref.includes(\"MedicationRequest/\")).to.eql(true)\r",
											"    })\r",
											"});\r",
											"\r",
											"//Verify that for.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN for.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    arrayTasks.forEach((task) => {\r",
											"        var patientId = pm.variables.get(\"PatientId\");\r",
											"        var ref = task.resource.for.reference\r",
											"        pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"    })\r",
											"});\r",
											"\r",
											"//Verify that requester.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN requester.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    arrayTasks.forEach((task) => {\r",
											"        var patientId = pm.variables.get(\"PatientId\");\r",
											"        var ref = task.resource.requester.reference\r",
											"        pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"    })\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?id={{taskIdPrescription&Pharmacy}}&_include:Task:focus:MedicationRequest",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{taskIdPrescription&Pharmacy}}"
										},
										{
											"key": "_include:Task:focus:MedicationRequest",
											"value": null
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Cancel an unactioned repeat prescription request: id",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"//Verify the X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", () => {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify the X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", () => {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"// Verify content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"// Verify schema\r",
											"pm.test(\"GIVEN I send a practitioner role request, WHEN the response is returned, THEN the json response corresponds to the required practitioner role schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"Task\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"uuid\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"profile\"\r",
											"                ]\r",
											"            },\r",
											"            \"identifier\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"system\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"value\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"format\": \"uuid\"\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\r",
											"                        \"value\"\r",
											"                    ]\r",
											"                }\r",
											"            },\r",
											"            \"status\": {\r",
											"                \"type\": \"string\",\r",
											"                \"enum\": [\r",
											"                    \"cancelled\"\r",
											"                ]\r",
											"            },\r",
											"            \"statusReason\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"text\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"text\"\r",
											"                ]\r",
											"            },\r",
											"            \"intent\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"order\"\r",
											"            },\r",
											"            \"code\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"coding\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"http://snomed.info/sct\"\r",
											"                                },\r",
											"                                \"code\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"103742009\"\r",
											"                                },\r",
											"                                \"display\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"Renewal of prescription\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"system\",\r",
											"                                \"code\",\r",
											"                                \"display\"\r",
											"                            ]\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"coding\"\r",
											"                ]\r",
											"            },\r",
											"            \"focus\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"for\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"authoredOn\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"date-time\"\r",
											"            },\r",
											"            \"lastModified\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"date-time\"\r",
											"            },\r",
											"            \"requester\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"note\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"text\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\"text\"]\r",
											"                }\r",
											"            },\r",
											"            \"input\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"type\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"preferred-performer\"\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"Preferred performer\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"code\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"coding\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"valueIdentifier\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"https://fhir.nhs.uk/Id/ods-organization-code\"\r",
											"                                },\r",
											"                                \"value\": {\r",
											"                                    \"type\": \"string\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"value\"\r",
											"                            ]\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"type\", \"valueIdentifier\"]\r",
											"            },\r",
											"            \"output\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"type\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"sent-to-eps\"\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"Sent to EPS\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\", \"code\", \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"coding\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"valueIdentifier\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\"\r",
											"                                },\r",
											"                                \"value\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"uuid\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"value\"\r",
											"                            ]\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\"type\", \"valueIdentifier\"]\r",
											"                },\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"id\",\r",
											"            \"meta\",\r",
											"            \"identifier\",\r",
											"            \"status\",\r",
											"            \"intent\",\r",
											"            \"code\",\r",
											"            \"focus\",\r",
											"            \"for\",\r",
											"            \"authoredOn\",\r",
											"            \"requester\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});\r",
											"\r",
											"//Verify that focus.reference points to a MedicationRequest\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN focus.reference should contain/point towards MedicationRequest\", () => {\r",
											"    var ref = jsonData.focus.reference\r",
											"    pm.expect(ref.includes(\"MedicationRequest/\")).to.eql(true)\r",
											"});\r",
											"\r",
											"//Verify that for.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN for.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    var patientId = pm.variables.get(\"PatientId\");\r",
											"    var ref = jsonData.for.reference\r",
											"    pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"});\r",
											"\r",
											"//Verify that requester.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN requester.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    var patientId = pm.variables.get(\"PatientId\");\r",
											"    var ref = jsonData.requester.reference\r",
											"    pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json-patch+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"op\": \"replace\",\r\n  \"path\": \"/status\",\r\n  \"value\": \"cancelled\"\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task?id={{taskIdPrescription}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{taskIdPrescription}}",
											"description": "(Required) The id of the Task to cancel\n"
										}
									]
								},
								"description": "## Overview\n\nUse this endpoint to cancel a current request that has not been actioned yet.\n\nThe content-type for this request must be \"application/json-patch+json\".\n\nThe request must include the following parameter:\n\n* id\n"
							},
							"response": []
						},
						{
							"name": "Cancel an unactioned repeat prescription & new pharmacy request",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"//Verify the X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", () => {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify the X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", () => {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"// Verify content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"// Verify schema\r",
											"pm.test(\"GIVEN I send a practitioner role request, WHEN the response is returned, THEN the json response corresponds to the required practitioner role schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"Task\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"uuid\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"profile\"\r",
											"                ]\r",
											"            },\r",
											"            \"identifier\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"system\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"value\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"format\": \"uuid\"\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\r",
											"                        \"value\"\r",
											"                    ]\r",
											"                }\r",
											"            },\r",
											"            \"status\": {\r",
											"                \"type\": \"string\",\r",
											"                \"enum\": [\r",
											"                    \"cancelled\"\r",
											"                ]\r",
											"            },\r",
											"            \"statusReason\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"text\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"text\"\r",
											"                ]\r",
											"            },\r",
											"            \"intent\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"order\"\r",
											"            },\r",
											"            \"code\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"coding\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"http://snomed.info/sct\"\r",
											"                                },\r",
											"                                \"code\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"103742009\"\r",
											"                                },\r",
											"                                \"display\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"Renewal of prescription\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"system\",\r",
											"                                \"code\",\r",
											"                                \"display\"\r",
											"                            ]\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"coding\"\r",
											"                ]\r",
											"            },\r",
											"            \"focus\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"for\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"authoredOn\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"date-time\"\r",
											"            },\r",
											"            \"lastModified\": {\r",
											"                \"type\": \"string\",\r",
											"                \"format\": \"date-time\"\r",
											"            },\r",
											"            \"requester\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"reference\": {\r",
											"                        \"type\": \"string\"\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"reference\"\r",
											"                ]\r",
											"            },\r",
											"            \"note\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"text\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\"text\"]\r",
											"                }\r",
											"            },\r",
											"            \"input\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"type\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"preferred-performer\"\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"Preferred performer\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"code\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"coding\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"valueIdentifier\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"https://fhir.nhs.uk/Id/ods-organization-code\"\r",
											"                                },\r",
											"                                \"value\": {\r",
											"                                    \"type\": \"string\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"value\"\r",
											"                            ]\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"type\", \"valueIdentifier\"]\r",
											"            },\r",
											"            \"output\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"type\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\"\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"sent-to-eps\"\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\": \"Sent to EPS\"\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\", \"code\", \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"coding\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"valueIdentifier\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"system\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"const\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\"\r",
											"                                },\r",
											"                                \"value\": {\r",
											"                                    \"type\": \"string\",\r",
											"                                    \"format\": \"uuid\"\r",
											"                                }\r",
											"                            },\r",
											"                            \"required\": [\r",
											"                                \"value\"\r",
											"                            ]\r",
											"                        }\r",
											"                    },\r",
											"                    \"required\": [\"type\", \"valueIdentifier\"]\r",
											"                },\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"id\",\r",
											"            \"meta\",\r",
											"            \"identifier\",\r",
											"            \"status\",\r",
											"            \"intent\",\r",
											"            \"code\",\r",
											"            \"focus\",\r",
											"            \"for\",\r",
											"            \"authoredOn\",\r",
											"            \"requester\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});\r",
											"\r",
											"//Verify that focus.reference points to a MedicationRequest\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN focus.reference should contain/point towards MedicationRequest\", () => {\r",
											"    var ref = jsonData.focus.reference\r",
											"    pm.expect(ref.includes(\"MedicationRequest/\")).to.eql(true)\r",
											"});\r",
											"\r",
											"//Verify that for.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN for.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    var patientId = pm.variables.get(\"PatientId\");\r",
											"    var ref = jsonData.for.reference\r",
											"    pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"});\r",
											"\r",
											"//Verify that requester.reference points to the Patient in the request\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN requester.reference should contain/point towards the same patient as in the request\", () => {\r",
											"    var patientId = pm.variables.get(\"PatientId\");\r",
											"    var ref = jsonData.requester.reference\r",
											"    pm.expect(ref).to.eql(\"Patient/\" + patientId)\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json-patch+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"op\": \"replace\",\r\n  \"path\": \"/status\",\r\n  \"value\": \"cancelled\"\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task?id={{taskIdPrescription&Pharmacy}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{taskIdPrescription&Pharmacy}}",
											"description": "(Required) The id of the Task to cancel\n"
										}
									]
								},
								"description": "## Overview\n\nUse this endpoint to cancel a current request that has not been actioned yet.\n\nThe content-type for this request must be \"application/json-patch+json\".\n\nThe request must include the following parameter:\n\n* id\n"
							},
							"response": []
						}
					]
				},
				{
					"name": "Error tests",
					"item": [
						{
							"name": "Error: No X-request-id - 400",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"BAD_REQUEST\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}",
										"disabled": true
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?patient={{PatientId}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "patient",
											"value": "{{PatientId}}",
											"description": "The NHS number of the patient whose requests you are searching for\n"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Task:focus:MedicationStatement - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_PARAMETER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?patient={{PatientId}}&_include:Task:focus:MedicationStatement",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "patient",
											"value": "{{PatientId}}",
											"description": "The NHS number of the patient whose requests you are searching for\n"
										},
										{
											"key": "_include:Task:focus:MedicationStatement",
											"value": null
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Task:focus:Medicationrequest - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_PARAMETER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?patient={{PatientId}}&_include:Task:focus:MedicationStatement",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "patient",
											"value": "{{PatientId}}",
											"description": "The NHS number of the patient whose requests you are searching for\n"
										},
										{
											"key": "_include:Task:focus:MedicationStatement",
											"value": null
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: task:focus:MedicationRequest - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_PARAMETER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?patient={{PatientId}}&_include:Task:focus:MedicationStatement",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "patient",
											"value": "{{PatientId}}",
											"description": "The NHS number of the patient whose requests you are searching for\n"
										},
										{
											"key": "_include:Task:focus:MedicationStatement",
											"value": null
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Patient id letters - 400",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_NHS_NUMBER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?patient=invalidPatientId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "patient",
											"value": "invalidPatientId",
											"description": "The NHS number of the patient whose requests you are searching for\n"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Patient id too short - 400",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_NHS_NUMBER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?patient=012345678",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "patient",
											"value": "012345678",
											"description": "The NHS number of the patient whose requests you are searching for\n"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Patient id with hyphens - 400",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_NHS_NUMBER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?patient=012-3456789",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "patient",
											"value": "012-3456789",
											"description": "The NHS number of the patient whose requests you are searching for\n"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Patient id not found - 404",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"PATIENT_NOT_FOUND\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?patient=0123456789",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "patient",
											"value": "0123456789",
											"description": "The NHS number of the patient whose requests you are searching for\n"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Task id letters - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_PARAMETER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?id=invalidUuid",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "invalidUuid"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Task id too short - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_PARAMETER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?id=825fabd0-23dd-4f4c-adce-4a7ac2c",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "825fabd0-23dd-4f4c-adce-4a7ac2c"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Task id no hyphens - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_PARAMETER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?id=825fabd023dd4f4cadce4a7ac2c71659",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "825fabd023dd4f4cadce4a7ac2c71659"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Task id not found - 404",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"RESOURCE_NOT_FOUND\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?id={{$guid}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{$guid}}"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Status invalid  - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_PARAMETER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?id={{TaskId}}&status=invalidStatus",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{TaskId}}"
										},
										{
											"key": "status",
											"value": "invalidStatus"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Patient id & task id mismatch - 404",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"RESOURCE_NOT_FOUND\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?patient=0123456789&id={{TaskId}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "patient",
											"value": "0123456789"
										},
										{
											"key": "id",
											"value": "{{TaskId}}"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Date incorrect format, zz instead of eq  - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_PARAMETER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?id={{TaskId}}&authored-on=qq2022-01-01",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{TaskId}}"
										},
										{
											"key": "authored-on",
											"value": "qq2022-01-01"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Date incorrect format, authoredon instead of authored-on  - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_PARAMETER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?id={{TaskId}}&authoredon=eq2022-01-01",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{TaskId}}"
										},
										{
											"key": "authoredon",
											"value": "eq2022-01-01"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: Date in future - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_PARAMETER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/Task?id={{TaskId}}&authored-on=eq2045-01-01",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{TaskId}}"
										},
										{
											"key": "authored-on",
											"value": "eq2045-01-01"
										}
									]
								},
								"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
							},
							"response": []
						},
						{
							"name": "Error: body.resourceType invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"incorrect\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.meta.profile invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"incorrect\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.status invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"invalid\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.intent invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"invalid\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.code.coding.system invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"invalid\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.code.coding.code invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"invalid\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.code.coding.display invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"invalid\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.for.identifier.system invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"invalid\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.input.type.coding.system invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ],\r\n    \"input\": [\r\n    {\r\n      \"type\": {\r\n        \"coding\": [\r\n          {\r\n            \"system\": \"invalid\",\r\n            \"code\": \"preferred-performer\",\r\n            \"display\": \"Preferred performer\"\r\n          }\r\n        ]\r\n      },\r\n      \"valueIdentifier\": {\r\n        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n        \"value\": \"{{PharmacyCode}}\"\r\n      }\r\n    }\r\n  ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.input.type.coding.code invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ],\r\n    \"input\": [\r\n    {\r\n      \"type\": {\r\n        \"coding\": [\r\n          {\r\n            \"system\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\",\r\n            \"code\": \"invalid\",\r\n            \"display\": \"Preferred performer\"\r\n          }\r\n        ]\r\n      },\r\n      \"valueIdentifier\": {\r\n        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n        \"value\": \"{{PharmacyCode}}\"\r\n      }\r\n    }\r\n  ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.input.valueIdentifier.system invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ],\r\n    \"input\": [\r\n    {\r\n      \"type\": {\r\n        \"coding\": [\r\n          {\r\n            \"system\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\",\r\n            \"code\": \"preferred-performer\",\r\n            \"display\": \"Preferred performer\"\r\n          }\r\n        ]\r\n      },\r\n      \"valueIdentifier\": {\r\n        \"system\": \"invalid\",\r\n        \"value\": \"{{PharmacyCode}}\"\r\n      }\r\n    }\r\n  ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.input.valueIdentifier.value not found - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_VALUE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ],\r\n    \"input\": [\r\n    {\r\n      \"type\": {\r\n        \"coding\": [\r\n          {\r\n            \"system\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\",\r\n            \"code\": \"preferred-performer\",\r\n            \"display\": \"Preferred performer\"\r\n          }\r\n        ]\r\n      },\r\n      \"valueIdentifier\": {\r\n        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n        \"value\": \"not found\"\r\n      }\r\n    }\r\n  ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.focus.reference/MedicationRequest invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"REFERENCE_NOT_FOUND\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/invalidID\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.focus.reference/MedicationRequest not found - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"REFERENCE_NOT_FOUND\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{$guid}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.for.reference/Patient invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"REFERENCE_NOT_FOUND\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/invalidID\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.for.reference/Patient not found - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"REFERENCE_NOT_FOUND\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/0123456789\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.for.identifier.value invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"invalidID\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.for.identifier.value not found - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                 \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"0123456789\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.requester.reference/Patient invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"REFERENCE_NOT_FOUND\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/invalidID\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.requester.reference/Patient not found - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"REFERENCE_NOT_FOUND\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/0123456789\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.requester.identifier.value invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"invalidID\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: body.requester.identifier.value not found - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                 \"const\" : \"INVALID_RESOURCE\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{MedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{PatientId}}\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{PatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"0123456789\"\r\n        },\r\n        \"display\": \"{{PatientName}}\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									]
								},
								"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
							},
							"response": []
						},
						{
							"name": "Error: Task id not found - 404",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"RESOURCE_NOT_FOUND\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json-patch+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"op\": \"replace\",\r\n  \"path\": \"/status\",\r\n  \"value\": \"cancelled\"\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task?id={{$guid}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{$guid}}",
											"description": "(Required) The id of the Task to cancel\n"
										}
									]
								},
								"description": "## Overview\n\nUse this endpoint to cancel a current request that has not been actioned yet.\n\nThe content-type for this request must be \"application/json-patch+json\".\n\nThe request must include the following parameter:\n\n* id\n"
							},
							"response": []
						},
						{
							"name": "Error: Task id invalid - 422",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 422\", function () {\r",
											"    pm.response.to.have.status(422);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"INVALID_PARAMETER\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json-patch+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"op\": \"replace\",\r\n  \"path\": \"/status\",\r\n  \"value\": \"cancelled\"\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task?id=invalidTaskId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "invalidTaskId",
											"description": "(Required) The id of the Task to cancel\n"
										}
									]
								},
								"description": "## Overview\n\nUse this endpoint to cancel a current request that has not been actioned yet.\n\nThe content-type for this request must be \"application/json-patch+json\".\n\nThe request must include the following parameter:\n\n* id\n"
							},
							"response": []
						},
						{
							"name": "Error: Body.op incorrect - 400",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"BAD_REQUEST\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json-patch+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"op\": \"incorrect\",\r\n  \"path\": \"/status\",\r\n  \"value\": \"cancelled\"\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task?id={{TaskId}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{TaskId}}",
											"description": "(Required) The id of the Task to cancel\n"
										}
									]
								},
								"description": "## Overview\n\nUse this endpoint to cancel a current request that has not been actioned yet.\n\nThe content-type for this request must be \"application/json-patch+json\".\n\nThe request must include the following parameter:\n\n* id\n"
							},
							"response": []
						},
						{
							"name": "Error: Body.path incorrect - 400",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"BAD_REQUEST\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json-patch+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"op\": \"replace\",\r\n  \"path\": \"/incorrect\",\r\n  \"value\": \"cancelled\"\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task?id={{TaskId}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{TaskId}}",
											"description": "(Required) The id of the Task to cancel\n"
										}
									]
								},
								"description": "## Overview\n\nUse this endpoint to cancel a current request that has not been actioned yet.\n\nThe content-type for this request must be \"application/json-patch+json\".\n\nThe request must include the following parameter:\n\n* id\n"
							},
							"response": []
						},
						{
							"name": "Error: Extra unexpected parameter - 400",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"\r",
											"//Verify the response status code\r",
											"pm.test(\"GIVEN I send an incorrect request, WHEN I send the request, THEN the status code response is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"\r",
											"//Verify response header X-Correlation-ID\r",
											"pm.test(\"GIVEN I provide an X-Correlation-ID in the header, WHEN I send the request, THEN the same X-Correlation-ID is returned in the response header\", function () {\r",
											"    var XCorrelationID = pm.variables.get(\"X-Correlation-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Correlation-ID\")).to.eql(XCorrelationID);\r",
											"});\r",
											"\r",
											"//Verify response header X-Request-ID\r",
											"pm.test(\"GIVEN I provide an X-Request-ID in the header, WHEN I send the request, THEN the same X-Request-ID is returned in the response header\", function () {\r",
											"    var XRequestID = pm.variables.get(\"X-Request-ID\");\r",
											"    pm.expect(pm.response.headers.get(\"X-Request-ID\")).to.eql(XRequestID);\r",
											"});\r",
											"\r",
											"//Verify response header content-type\r",
											"pm.test(\"GIVEN I send a request, WHEN the response is returned, THEN the content-type in the header is set to 'application/fhir+json'\", () => {\r",
											"    pm.expect(pm.response.headers.get('CONTENT-TYPE')).to.eql('application/fhir+json')\r",
											"});\r",
											"\r",
											"//Verify response schema\r",
											"pm.test(\"GIVEN I send a MedicationRequest with an ID that doesn't exist, WHEN the response is returned, THEN the json error response corresponds to the required MedicationRequest schema\", () => {\r",
											"    var schema = {\r",
											"        \"type\": \"object\",\r",
											"        \"properties\": {\r",
											"            \"resourceType\": {\r",
											"                \"type\": \"string\",\r",
											"                \"const\": \"OperationOutcome\"\r",
											"            },\r",
											"            \"id\": {\r",
											"                \"type\": \"string\"\r",
											"            },\r",
											"            \"meta\": {\r",
											"                \"type\": \"object\",\r",
											"                \"properties\": {\r",
											"                    \"profile\": {\r",
											"                        \"type\": \"array\",\r",
											"                        \"minItems\": 1,\r",
											"                        \"maxItems\": 1,\r",
											"                        \"items\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"const\": \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-OperationOutcome\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\"profile\"]\r",
											"            },\r",
											"            \"issue\": {\r",
											"                \"type\": \"array\",\r",
											"                \"items\": {\r",
											"                    \"properties\": {\r",
											"                        \"id\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"severity\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"fatal\",\r",
											"                                \"error\",\r",
											"                                \"warning\",\r",
											"                                \"information\"\r",
											"                            ]\r",
											"                        },\r",
											"                        \"code\": {\r",
											"                            \"type\": \"string\",\r",
											"                            \"enum\": [\r",
											"                                \"invalid\",\r",
											"                                \"structure\",\r",
											"                                \"required\",\r",
											"                                \"value\",\r",
											"                                \"invariant\",\r",
											"                                \"security\",\r",
											"                                \"login\",\r",
											"                                \"unknown\",\r",
											"                                \"expired\",\r",
											"                                \"forbidden\",\r",
											"                                \"suppressed\",\r",
											"                                \"processing\",\r",
											"                                \"not-supported\",\r",
											"                                \"duplicate\",\r",
											"                                \"not-found\",\r",
											"                                \"too-long\",\r",
											"                                \"code-invalid\",\r",
											"                                \"extension\",\r",
											"                                \"too-costly\",\r",
											"                                \"business-rule\",\r",
											"                                \"conflict\",\r",
											"                                \"incomplete\",\r",
											"                                \"transient\",\r",
											"                                \"lock-error\",\r",
											"                                \"no-store\",\r",
											"                                \"exception\",\r",
											"                                \"timeout\",\r",
											"                                \"throttled\",\r",
											"                                \"informational\",\r",
											"                            ]\r",
											"                        },\r",
											"                        \"details\": {\r",
											"                            \"type\": \"object\",\r",
											"                            \"properties\": {\r",
											"                                \"coding\": {\r",
											"                                    \"type\": \"array\",\r",
											"                                    \"minItems\": 1,\r",
											"                                    \"items\": {\r",
											"                                        \"properties\": {\r",
											"                                            \"system\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            },\r",
											"                                            \"code\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                                \"const\" : \"BAD_REQUEST\",\r",
											"                                            },\r",
											"                                            \"display\": {\r",
											"                                                \"type\": \"string\",\r",
											"                                            }\r",
											"                                        },\r",
											"                                        \"required\": [\r",
											"                                            \"system\",\r",
											"                                            \"code\",\r",
											"                                            \"display\"\r",
											"                                        ]\r",
											"                                    }\r",
											"                                }\r",
											"                            }\r",
											"                        },\r",
											"                        \"diagnostics\": {\r",
											"                            \"type\": \"string\"\r",
											"                        },\r",
											"                        \"expression\": {\r",
											"                            \"type\": \"string\"\r",
											"                        }\r",
											"                    }\r",
											"                },\r",
											"                \"required\": [\r",
											"                    \"severity\",\r",
											"                    \"code\",\r",
											"                ]\r",
											"            }\r",
											"        },\r",
											"        \"required\": [\r",
											"            \"resourceType\",\r",
											"            \"meta\",\r",
											"            \"issue\"\r",
											"        ]\r",
											"    }\r",
											"    pm.response.to.have.jsonSchema(schema);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
										"key": "X-Correlation-ID",
										"value": "{{X-Correlation-ID}}"
									},
									{
										"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
										"key": "X-Request-ID",
										"value": "{{X-Request-ID}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json-patch+json"
									},
									{
										"key": "Accept",
										"value": "application/fhir+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"op\": \"replace\",\r\n  \"path\": \"/status\",\r\n  \"value\": \"cancelled\",\r\n  \"random\": \"incorrect\"\r\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/Task?id={{TaskId}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"Task"
									],
									"query": [
										{
											"key": "id",
											"value": "{{TaskId}}",
											"description": "(Required) The id of the Task to cancel\n"
										}
									]
								},
								"description": "## Overview\n\nUse this endpoint to cancel a current request that has not been actioned yet.\n\nThe content-type for this request must be \"application/json-patch+json\".\n\nThe request must include the following parameter:\n\n* id\n"
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "User-flow",
			"item": [
				{
					"name": "Get medications relating to a patient - Patient Id",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"//As a user I want to order a repeat prescription. \r",
									"//I first want to see all the medication statements associated with myself.\r",
									"//The below will look at the first medication statement in the array of returned statements. It will then look at the basedOn.reference value and extract the medicationRequest id to use in the subsequent test \r",
									"\r",
									"//Verify the response status code\r",
									"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"var jsonData = pm.response.json();\r",
									"var reference = jsonData.entry[0].resource.basedOn[0].reference\r",
									"var medicationRequestId = reference.substr(18, 36)\r",
									"pm.collectionVariables.set('userFlowMedicationRequestId', medicationRequestId)"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
								"key": "X-Correlation-ID",
								"value": "{{X-Correlation-ID}}"
							},
							{
								"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
								"key": "X-Request-ID",
								"value": "{{X-Request-ID}}"
							},
							{
								"key": "Accept",
								"value": "application/fhir+json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/Patient/{{userFlowPatientId}}/MedicationStatement",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"Patient",
								"{{userFlowPatientId}}",
								"MedicationStatement"
							]
						},
						"description": "## Overview\n\nThis end point returns MedicationStatements relating to a patient, which show courses of medication prescribed to the patient.\n\nThese MedicationStatements must reference a MedicationRequest within the basedOn attribute: MedicationRequests provide details of specific prescriptions. The display within basedOn should quote the courseOfTherapyType from the referenced MedicationRequest, showing the prescription treatment type.\n\nThe referenced MedicationRequest must have intent set to plan.\n\nThe request must include the following parameter:\n\n* patient\n"
					},
					"response": []
				},
				{
					"name": "Get a specific planned medication request",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"//The medication request id returned in the previous request is used in this request to return that specific medication request\r",
									"\r",
									"var jsonData = pm.response.json();\r",
									"\r",
									"//Verify the response status code\r",
									"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"//returned medication request id matches the one that was requested\r",
									"pm.test(\"GIVEN I send a request with an existing and valid medication request ID, WHEN the response is returned, THEN the medication request ID in the response matches the id in the request url\", () => {\r",
									"    var medicationRequestId = pm.variables.get(\"userFlowMedicationRequestId\");\r",
									"    pm.expect(jsonData.id).to.eql(medicationRequestId);\r",
									"});\r",
									"\r",
									"//As a user I want to see who prescribed me that medication. The below extracts the practitionerRoleId from the medication request for use in the next request\r",
									"var reference = jsonData.requester.reference\r",
									"var practitionerRoleId = reference.substr(17, 36)\r",
									"pm.collectionVariables.set('userFlowPractitionerRoleId', practitionerRoleId)"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "useBrowser",
									"value": true,
									"type": "boolean"
								},
								{
									"key": "tokenName",
									"value": "Token1",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
								"key": "X-Correlation-ID",
								"value": "{{X-Correlation-ID}}"
							},
							{
								"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
								"key": "X-Request-ID",
								"value": "{{X-Request-ID}}"
							},
							{
								"key": "Accept",
								"value": "application/fhir+json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/MedicationRequest/{{userFlowMedicationRequestId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"MedicationRequest",
								"{{userFlowMedicationRequestId}}"
							]
						},
						"description": "Use this endpoint to get specific MedicationRequests.\n\nThe request must include the following parameter:\n\n* id\n"
					},
					"response": []
				},
				{
					"name": "Get practitioner role details",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"//using the practitioner id returned in the last request, this id is used in this request to return the details of the practitioner\r",
									"\r",
									"var jsonData = pm.response.json();\r",
									"\r",
									"//Verify the response status code\r",
									"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"//Verify the id in the response matches the id in the request\r",
									"pm.test(\"GIVEN I send a request with an existing and valid practitioner role ID, WHEN the response is returned, THEN the practitioner role ID in the response matches the id in the request url\", () => {\r",
									"    var practitionerId = pm.variables.get(\"PractitionerId\");\r",
									"    pm.expect(jsonData.id).to.eql(practitionerId);\r",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
								"key": "X-Correlation-ID",
								"value": "{{X-Correlation-ID}}"
							},
							{
								"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
								"key": "X-Request-ID",
								"value": "{{X-Request-ID}}"
							},
							{
								"key": "Accept",
								"value": "application/fhir+json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/PractionerRole/{{userFlowPractitionerRoleId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"PractionerRole",
								"{{userFlowPractitionerRoleId}}"
							]
						},
						"description": "Use this endpoint to get details of practitioners issuing previous prescriptions.\nThe request must include the following parameter:\n* id\n"
					},
					"response": []
				},
				{
					"name": "Request a repeat prescription & new pharmacy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"//As a user I want to request a new prescription based on my original medication request.\r",
									"//I also want to nominate a new one-off pharmacy to collect my prescription.\r",
									"\r",
									"//The body of this request contains a focus of the medication request id that was obtained \r",
									"//in the previous request as well as a code for the new pharmacy\r",
									"\r",
									"//Verify the response status code\r",
									"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"//The below code extracts the id of the newly formed task to be used in subsequent requests\r",
									"var jsonData = pm.response.json();\r",
									"var taskId = jsonData.id\r",
									"pm.collectionVariables.set('userFlowTaskId', taskId)"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
								"key": "X-Correlation-ID",
								"value": "{{X-Correlation-ID}}"
							},
							{
								"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
								"key": "X-Request-ID",
								"value": "{{X-Request-ID}}"
							},
							{
								"key": "Content-Type",
								"value": "application/fhir+json"
							},
							{
								"key": "Accept",
								"value": "application/fhir+json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"resourceType\": \"Task\",\r\n    \"meta\": {\r\n        \"profile\": [\r\n            \"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Task\"\r\n        ]\r\n    },\r\n    \"identifier\": [\r\n        {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"30d65c8e-98e8-4806-b6a6-fpwjfkhs729\"\r\n        }\r\n    ],\r\n    \"status\": \"requested\",\r\n    \"intent\": \"order\",\r\n    \"code\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://snomed.info/sct\",\r\n                \"code\": \"103742009\",\r\n                \"display\": \"Renewal of prescription\"\r\n            }\r\n        ]\r\n    },\r\n    \"focus\": {\r\n        \"reference\": \"MedicationRequest/{{userFlowMedicationRequestId}}\"\r\n    },\r\n    \"for\": {\r\n        \"reference\": \"Patient/{{userFlowPatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{userFlowPatientId}}\"\r\n        },\r\n        \"display\": \"Joe Bloggs\"\r\n    },\r\n    \"requester\": {\r\n        \"reference\": \"Patient/{{UserFlowPatientId}}\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"{{UserFlowPatientId}}\"\r\n        },\r\n        \"display\": \"Joe Bloggs\"\r\n    },\r\n    \"note\": [\r\n        {\r\n            \"authorString\": \"Patient\",\r\n            \"text\": \"ran out of previous prescription\"\r\n        }\r\n    ],\r\n  \"input\": [\r\n    {\r\n      \"type\": {\r\n        \"coding\": [\r\n          {\r\n            \"system\": \"https://fhir.hl7.org.uk/GPConnect-PrescriptionOrderingParameters\",\r\n            \"code\": \"preferred-performer\",\r\n            \"display\": \"Preferred performer\"\r\n          }\r\n        ]\r\n      },\r\n      \"valueIdentifier\": {\r\n        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n        \"value\": \"{{userFlowPharmacyCode}}\"\r\n      }\r\n    }\r\n  ]\r\n}",
							"options": {
								"raw": {
									"headerFamily": "json",
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/Task",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"Task"
							]
						},
						"description": "## Overview\n\nUse this end point to create a request for a repeat prescription or repeat dispensing prescription.\n\nThe same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in Task.input using code [preferred-performer](https://simplifier.net/gpconnect2/gpconnect-prescriptionorderingparameters).\n\nFor this, send a Task with a focus of a prior MedicationRequest which has an intent of plan.\n"
					},
					"response": []
				},
				{
					"name": "Get requested prescription reorders: task id",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"//As a user I want to see the status of my prescription reorder. \r",
									"//The id in this request was taken from the response in the previous request\r",
									"\r",
									"var jsonData = pm.response.json();\r",
									"var arrayTasks = jsonData.entry\r",
									"\r",
									"\r",
									"//Verify the response status code\r",
									"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"//Verify that task id in request matches id in response\r",
									"pm.test(\"GIVEN I send a request for a task, WHEN the response is returned, THEN the task id returned should match the task id in the response\", () => {\r",
									"    arrayTasks.forEach((task) => {\r",
									"        var requestTaskId = pm.variables.get(\"userFlowTaskId\");\r",
									"        var responseTaskId = task.resource.id\r",
									"        pm.expect(requestTaskId).to.eql(responseTaskId)\r",
									"    })\r",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
								"key": "X-Correlation-ID",
								"value": "{{X-Correlation-ID}}"
							},
							{
								"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
								"key": "X-Request-ID",
								"value": "{{X-Request-ID}}"
							},
							{
								"key": "Accept",
								"value": "application/fhir+json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/Task?id={{userFlowTaskId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"Task"
							],
							"query": [
								{
									"key": "id",
									"value": "{{userFlowTaskId}}"
								}
							]
						},
						"description": "## Overview\n\nUse this end point to check the status of past and current prescription request.\n\nIf a Patient identifier is provided past and present requests will be returned for the patient inside as multiple Task rescources inside a Bundle resource.\n\nIf just the id of a specific request is passed a singular Task resource will be returned inside a Bundle resource.\n\nIf the prescription request is then sent to EPS to be fulfilled the EPS id of the new MedicationRequest must be included in the output element of the Task resource. \n\nYou must provide at least one of the following parameters:\n\n* id\n\n* patient\n"
					},
					"response": []
				},
				{
					"name": "Cancel an unactioned repeat prescription & new pharmacy request",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"//As a user I want to cancel the request I made for a repeat prescription.\r",
									"//The id used in the POST before is used in the above request to cancel the request\r",
									"\r",
									"//Verify the response status code\r",
									"pm.test(\"GIVEN I provide an existing valid practitioner role ID, WHEN I send the request, THEN the status code response is 200\", () => {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\nMirrored back in a response header.\n",
								"key": "X-Correlation-ID",
								"value": "{{X-Correlation-ID}}"
							},
							{
								"description": "(Required) A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\nMust be a universally unique identifier (UUID) (ideally version 4).\n\nMirrored back in a response header.\n\nIf you re-send a failed request, use the same value in this header.\n\nRequired in all environments except sandbox.\n",
								"key": "X-Request-ID",
								"value": "{{X-Request-ID}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json-patch+json"
							},
							{
								"key": "Accept",
								"value": "application/fhir+json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"op\": \"replace\",\r\n  \"path\": \"/status\",\r\n  \"value\": \"cancelled\"\r\n}",
							"options": {
								"raw": {
									"headerFamily": "json",
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/Task?id={{userFlowTaskId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"Task"
							],
							"query": [
								{
									"key": "id",
									"value": "{{userFlowTaskId}}",
									"description": "(Required) The id of the Task to cancel\n"
								}
							]
						},
						"description": "## Overview\n\nUse this endpoint to cancel a current request that has not been actioned yet.\n\nThe content-type for this request must be \"application/json-patch+json\".\n\nThe request must include the following parameter:\n\n* id\n"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "https://sandbox.api.service.nhs.uk/gp-connect-prescriptions-management-fhir/FHIR/R4"
		},
		{
			"key": "X-Correlation-ID",
			"value": "",
			"type": "string"
		},
		{
			"key": "X-Request-ID",
			"value": "",
			"type": "string"
		},
		{
			"key": "MedicationRequestId",
			"value": "",
			"type": "string"
		},
		{
			"key": "PractitionerId",
			"value": "",
			"type": "string"
		},
		{
			"key": "TaskId",
			"value": "",
			"type": "string"
		},
		{
			"key": "PatientId",
			"value": "",
			"type": "string"
		},
		{
			"key": "PatientName",
			"value": "",
			"type": "string"
		},
		{
			"key": "PharmacyCode",
			"value": "",
			"type": "string"
		},
		{
			"key": "taskIdPrescription",
			"value": ""
		},
		{
			"key": "taskIdPrescription&Pharmacy",
			"value": ""
		},
		{
			"key": "userFlowPatientId",
			"value": "",
			"type": "string"
		},
		{
			"key": "userFlowMedicationRequestId",
			"value": ""
		},
		{
			"key": "userFlowPractitionerRoleId",
			"value": ""
		},
		{
			"key": "userFlowPharmacyCode",
			"value": "",
			"type": "string"
		},
		{
			"key": "userFlowTaskId",
			"value": ""
		}
	]
}